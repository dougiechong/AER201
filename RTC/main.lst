MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001       list p=16f877                 ; list directive to define processor
                      00002       #include <p16f877.inc>        ; processor specific variable definitions
                      00001         LIST
                      00002 ; P16F877.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
                      00373         LIST
2007   3F72           00003       __CONFIG _CP_OFF & _WDT_OFF & _BODEN_ON & _PWRTE_ON & _HS_OSC & _WRT_ENABLE_ON & _CPD_OFF & _LVP_O
                            FF
                      00004 
                      00005       #include <lcd.inc>                           ;Import LCD control functions from lcd.asm
  0000                00001         extern  InitLCD,WR_INS,WR_DATA,ClrLCD
                      00006           #include <rtc_macros.inc>
                      00001         ;External labels
  0000                00002         extern  write_rtc,read_rtc,rtc_convert,i2c_common_setup
                      00003 
                      00004 ;RTC Macros;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00005 
                      00006 rtc_resetAll    macro
                      00007 ;input:         none
                      00008 ;output:        none
                      00009 ;desc:          Resets all the time keeping registers on the RTC to zero
                      00010         banksel         0x74
                      00011         clrf            0x74
                      00012         banksel         0x73
                      00013         clrf            0x73
                      00014     call        write_rtc               ;Write 0 to Seconds
                      00015         banksel         0x73
                      00016     incf        0x73                    ;Set register address to 1
                      00017         call            write_rtc
                      00018         banksel         0x73
                      00019     incf        0x73                    ;Set register address to 2
                      00020         call            write_rtc
                      00021         banksel         0x73
                      00022     incf        0x73                    ;Set register address to 3
                      00023         call            write_rtc
                      00024         banksel         0x73
                      00025     incf        0x73                    ;Set register address to 4
                      00026         call            write_rtc
                      00027         banksel         0x73
                      00028     incf        0x73                    ;Set register address to 5
                      00029         call            write_rtc
                      00030         banksel         0x73
                      00031     incf        0x73                    ;Set register address to 6
                      00032         call            write_rtc
                      00033         endm
                      00034 
                      00035 rtc_set         macro   addliteral,datliteral
                      00036 ;input:         addliteral: value of address
                      00037 ;                       datliteral: value of data
                      00038 ;output:        none
                      00039 ;desc:          loads the data in datliteral into the 
                      00040 ;                       address specified by addliteral in the RTC
                      00041         banksel 0x73
                      00042         movlw   addliteral
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00043         movwf   0x73
                      00044         banksel 0x74
                      00045         movlw   datliteral
                      00046         movwf   0x74    
                      00047         call    write_rtc
                      00048         endm
                      00049 
                      00050 rtc_read        macro   addliteral
                      00051 ;input:         addliteral
                      00052 ;output:        0x75, 0x77, 0x78
                      00053 ;desc:          From the selected register in the RTC, read the data
                      00054 ;                       and load it into 0x75. 0x75 is also converted into 
                      00055 ;                       ASCII characters and the tens digit is placed into
                      00056 ;                       0x77 and the ones digit is placed in 0x78
                      00057         movlw   addliteral
                      00058         banksel 0x73
                      00059         movwf   0x73
                      00060         call    read_rtc
                      00061         banksel 0x75
                      00062         movf    0x75,w
                      00063         call    rtc_convert   
                      00064         endm
                      00007 
  00000020            00008 offset  EQU       0x20                          ;For pc interface
  00000021            00009 temp2    EQU       0x21
                      00010 
                      00011         cblock  0x22                                    ;0x30 works
  00000022            00012                 Table_Counter
  00000023            00013                 lcd_tmp 
  00000024            00014                 lcd_d1
  00000025            00015                 lcd_d2
  00000026            00016                 com     
  00000027            00017                 dat     
  00000028            00018                 Number_of_boxes
  00000029            00019                 Pattern_Number_1
  0000002A            00020                 Pattern_Number_2
  0000002B            00021                 Pattern_Number_3
  0000002C            00022                 Pattern_Number_Current                  ;stores the current pattern numerically
  0000002D            00023                 Pattern_Counter
  0000002E            00024                 First_Pattern                                   ;stores patterns in terms of 1 for white
                             and 0 for orange
  0000002F            00025                 Second_Pattern
  00000030            00026                 Third_Pattern
  00000031            00027                 Fourth_Pattern
  00000032            00028                 Fifth_Pattern
  00000033            00029                 Sixth_Pattern
  00000034            00030                 Pattern_Current                                 ;stores current pattern shape
  00000035            00031                 Counter                                                 ;Count for motors
  00000036            00032                 Box_Counter                                             ;Count box position (1-6)
  00000037            00033                 TensMonth
  00000038            00034                 OnesMonth
  00000039            00035                 TensDay
  0000003A            00036                 OnesDay
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000003B            00037                 TensHoursStarted                                        ;Store start and finish times
  0000003C            00038                 OnesHoursStarted
  0000003D            00039                 TensMinutesStarted
  0000003E            00040                 OnesMinutesStarted
  0000003F            00041                 TensSecondsStarted
  00000040            00042                 OnesSecondsStarted
  00000041            00043                 TensHoursFinished
  00000042            00044                 OnesHoursFinished
  00000043            00045                 TensMinutesFinished
  00000044            00046                 OnesMinutesFinished
  00000045            00047                 TensSecondsFinished
  00000046            00048                 OnesSecondsFinished
  00000047            00049                 temp
  00000048            00050                 OSE                                                             ;Save elapsed times
  00000049            00051                 TSE
  0000004A            00052                 OME
  0000004B            00053                 TME
  0000004C            00054                 OHE
  0000004D            00055                 THE
  0000004E            00056                 WhiteBalls
  0000004F            00057                 OrangeBalls
  00000050            00058                 Address_Counter
  00000051            00059                 Read_Address_Counter
  00000052            00060                 Memory_Temp
  00000053            00061                 var
  00000054            00062                 Operation_Number
  00000055            00063                 Log_Number
                      00064 ;               First_Counter                           ;counter for bottom stepper rotations
                      00065 ;               Second_Counter                          ;counter for pauses between stepper rotations
                      00066 ;               Third_Counter                           ;counter for done one box
                      00067         endc
                      00068 
                      00069         udata_shr
Warning[207]: Found label after column 1. (COUNTH)
0000                  00070         COUNTH  res 1   ;const used in delay
Warning[207]: Found label after column 1. (COUNTM)
0001                  00071         COUNTM  res     1       ;const used in delay
Warning[207]: Found label after column 1. (COUNTL)
0002                  00072         COUNTL  res     1       ;const used in delay
                      00073 
                      00074 #define RS      PORTD,2
                      00075 #define E       PORTD,3
                      00076         
                      00077          ORG       0x0000     ;RESET vector must always be at 0x00
0000   2???           00078          goto      init       ;Just jump to the main code section.
                      00079 
                      00080                  ORG 0x0004
0004                  00081 Interrupt_Code
                      00082 ;               btfsc           PCLATH,3                        ;check if on page 1
                      00083 ;               call            Switch_To_Page0
0004   1C8B           00084                 btfss           INTCON,INTF             ;poll INTF flag to make sure interrupt comes fro
                            m keypad
0005   2???           00085                 goto            $-1
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0006   108B           00086                 bcf             INTCON,INTF             ;clear flag for next interrupt
0007   1889           00087                 btfsc           PORTE,1                 ;check if right sensor (orange)
0008   2???           00088                 call            AddoneOrange
0009   1985           00089                 btfsc           PORTA,3                 ;check if right sensor (white)
000A   2???           00090                 call            AddoneWhite
000B   1885           00091                 btfsc           PORTA,1                 ;check if microswitch
000C   1407           00092                 bsf                     PORTC,0
                      00093 ;               btfsc           PORTB,3 ;check if should return to page 0
                      00094 ;               call            Switch_To_Page1 
000D   1186           00095                 bcf                     PORTB,3
000E   0009           00096                 retfie
                      00097 
                      00098 
                      00099 ;Timer_Interrupt
                      00100 ;               bcf                     INTCON,T0IF             ;clear interrupt flag
                      00101 ;               incf            First_Counter   ;move eight times then pause to wait for ball to fall
                      00102 ;               btfsc           First_Counter,3
                      00103 ;               goto            Pause
                      00104 ;               btfsc           PORTC,5                 ;If RC5 is high next pattern is 2 or 3
                      00105 ;               goto            Second_Or_Third
                      00106 ;               goto            Fourth_Or_First ;else next pattern is fourth or first
                      00107 ;
                      00108 ;Pause                                                                          ;just wait a few cycles
                      00109 ;               btfss           Second_Counter,7                ;counter to count cycles of nothing
                      00110 ;               goto            END_ISR
                      00111 ;               clrf            First_Counter
                      00112 ;               clrf            Second_Counter
                      00113 ;               incf            Third_Counter                   ;counts when 6 rotations are done
                      00114 ;               goto            END_ISR
                      00115 ;
                      00116 ;Second_Or_Third
                      00117 ;               btfsc           PORTC,1                 ;if RC1 third pattern is next
                      00118 ;               goto            Third_Position
                      00119 ;               goto            Second_Position ;else go to second pattern
                      00120 ;Fourth_Or_First
                      00121 ;               btfsc           PORTC,1                 ;if RC1 Fourth pattern is next
                      00122 ;               goto            Fourth_Position
                      00123 ;               goto            Start_Position  ;else go to Start pattern       
                      00124 ;Start_Position
                      00125 ;               bsf                     PORTC,5
                      00126 ;               bcf                     PORTC,1
                      00127 ;               bcf                     PORTE,0
                      00128 ;               bsf                     PORTC,7
                      00129 ;               goto            END_ISR
                      00130 ;Second_Position
                      00131 ;               bsf                     PORTC,5
                      00132 ;               bsf                     PORTC,1
                      00133 ;               bcf                     PORTE,0
                      00134 ;               bcf                     PORTC,7
                      00135 ;               goto            END_ISR
                      00136 ;Third_Position
                      00137 ;               bcf                     PORTC,5
                      00138 ;               bsf                     PORTC,1
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00139 ;               bsf                     PORTE,0
                      00140 ;               bcf                     PORTC,7
                      00141 ;               goto            END_ISR
                      00142 ;Fourth_Position
                      00143 ;               bcf                     PORTC,5
                      00144 ;               bcf                     PORTC,1
                      00145 ;               bsf                     PORTE,0
                      00146 ;               bsf                     PORTC,7
                      00147 ;               goto            END_ISR
                      00148 
                      00149 ;***************************************
                      00150 ; Look up tables
                      00151 ;***************************************
000F                  00152 Enter_Boxes
000F   0782           00153                 addwf   PCL,F
0010   3445 346E 3474 00154                 dt              "Enter # of boxes", 0
       3465 3472 3420 
       3423 3420 346F 
       3466 3420 3462 
       346F 3478 3465 
       3473 3400 
0021                  00155 Cont_Msg
0021   0782           00156                 addwf   PCL,F
0022   342A 3420 3474 00157                 dt              "* to continue", 0
       346F 3420 3463 
       346F 346E 3474 
       3469 346E 3475 
       3465 3400 
                      00158 
0030                  00159 Log_Information
0030   0782           00160                 addwf     PCL,f
0031   3432 342D 344C 00161         dt        "2-Log info", 0       
       346F 3467 3420 
       3469 346E 3466 
       346F 3400 
                      00162 
003C                  00163 InvalidBox
003C   0782           00164                 addwf     PCL,f
003D   3449 346E 3476 00165         dt        "Invalid Input", 0    ;changed to invalid input to be more generalized
       3461 346C 3469 
       3464 3420 3449 
       346E 3470 3475 
       3474 3400 
                      00166 
004B                  00167 Enter_Pattern
004B   0782           00168                 addwf   PCL,F
004C   3445 346E 3474 00169                 dt              "Enter Pattern ", 0
       3465 3472 3420 
       3450 3461 3474 
       3474 3465 3472 
       346E 3420 3400 
                      00170 
005B                  00171 PatternsEntered
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

005B   0782           00172                 addwf   PCL,F
005C   3450 3461 3474 00173                 dt              "Patterns: ", 0
       3474 3465 3472 
       346E 3473 343A 
       3420 3400 
                      00174 
0067                  00175 KPHexToChar                                                                             ;changed to refl
                            ect new keypad
0067   0782           00176         addwf     PCL,f
0068   3431 3432 3433 00177         dt        "123*456#0", 0
       342A 3434 3435 
       3436 3423 3430 
       3400 
                      00178 
0072                  00179 OneToNine
0072   0782           00180                 addwf     PCL,f
0073   3430 3431 3432 00181         dt        "0123456789", 0
       3433 3434 3435 
       3436 3437 3438 
       3439 3400 
                      00182 
007E                  00183 Busy
007E   0782           00184                 addwf     PCL,f
007F   342A 3442 3475 00185         dt        "*Busy*", 0
       3473 3479 342A 
       3400 
                      00186 
0086                  00187 New_Operation
0086   0782           00188                 addwf     PCL,f
0087   3431 342D 344E 00189         dt        "1-New Operation", 0
       3465 3477 3420 
       344F 3470 3465 
       3472 3461 3474 
       3469 346F 346E 
       3400 
                      00190 
                      00191 ;***************************************
                      00192 ; Display macro
                      00193 ;***************************************
                      00194 Display macro   Message
                      00195                 local   loop_
                      00196                 local   end_
                      00197                 clrf    Table_Counter   
                      00198                 clrw    
                      00199         
                      00200 loop_   movf    Table_Counter,W
                      00201                 call    Message
                      00202                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
                      00203                 btfsc   STATUS,Z
                      00204                 goto    end_
                      00205                 call    WR_DATA
                      00206                 incf    Table_Counter,F
                      00207                 goto    loop_
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00208 end_
                      00209                 endm
                      00210 
                      00211 ;***************************************
                      00212 ;PageChange macro
                      00213 ;***************************************
                      00214 Pagechange macro        tableIndex
                      00215                    movwf        var ; Save the index
                      00216                    movlw        HIGH tableIndex
                      00217                    movwf        PCLATH ; Store it for next jump
                      00218                    movf         var, W
                      00219                    addlw        LOW tableIndex ; Compute its Offset
                      00220                    btfsc        STATUS, C
                      00221                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
                      00222                    movwf        PCL ; Write the correct address to PC
Warning[205]: Found directive in column 1. (endm)
                      00223 endm ; End of macro
                      00224 
0097                  00225 Start_Msg
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00226 Pagechange labela
0097   00D3               M                    movwf        var ; Save the index
0098   30??               M                    movlw        HIGH labela
0099   008A               M                    movwf        PCLATH ; Store it for next jump
009A   0853               M                    movf         var, W
009B   3E??               M                    addlw        LOW labela     ; Compute its Offset
009C   1803               M                    btfsc        STATUS, C
009D   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
009E   0082               M                    movwf        PCL ; Write the correct address to PC
009F                  00227 labela
Warning[205]: Found directive in column 1. (dt)
009F   3441 346E 3479 00228 dt "Any key to start", 0
       3420 346B 3465 
       3479 3420 3474 
       346F 3420 3473 
       3474 3461 3472 
       3474 3400 
                      00229 
00B0                  00230 Invalid_Pattern_Number
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00231 Pagechange labelb
00B0   00D3               M                    movwf        var ; Save the index
00B1   30??               M                    movlw        HIGH labelb
00B2   008A               M                    movwf        PCLATH ; Store it for next jump
00B3   0853               M                    movf         var, W
00B4   3E??               M                    addlw        LOW labelb     ; Compute its Offset
00B5   1803               M                    btfsc        STATUS, C
00B6   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
00B7   0082               M                    movwf        PCL ; Write the correct address to PC
00B8                  00232 labelb
Warning[205]: Found directive in column 1. (dt)
00B8   3449 346E 3476 00233 dt "Invalid Pattern #", 0
       3461 346C 3469 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       3464 3420 3450 
       3461 3474 3474 
       3465 3472 346E 
       3420 3423 3400 
                      00234 
00CA                  00235 Done_Msg
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00236 Pagechange labelc
00CA   00D3               M                    movwf        var ; Save the index
00CB   30??               M                    movlw        HIGH labelc
00CC   008A               M                    movwf        PCLATH ; Store it for next jump
00CD   0853               M                    movf         var, W
00CE   3E??               M                    addlw        LOW labelc     ; Compute its Offset
00CF   1803               M                    btfsc        STATUS, C
00D0   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
00D1   0082               M                    movwf        PCL ; Write the correct address to PC
00D2                  00237 labelc
Warning[205]: Found directive in column 1. (dt)
00D2   3444 346F 346E 00238 dt "Done", 0
       3465 3400 
                      00239 
00D7                  00240 Press_Star
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00241 Pagechange labeld
00D7   00D3               M                    movwf        var ; Save the index
00D8   30??               M                    movlw        HIGH labeld
00D9   008A               M                    movwf        PCLATH ; Store it for next jump
00DA   0853               M                    movf         var, W
00DB   3E??               M                    addlw        LOW labeld     ; Compute its Offset
00DC   1803               M                    btfsc        STATUS, C
00DD   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
00DE   0082               M                    movwf        PCL ; Write the correct address to PC
00DF                  00242 labeld
Warning[205]: Found directive in column 1. (dt)
00DF   3420 3450 3472 00243 dt " Press *", 0
       3465 3473 3473 
       3420 342A 3400 
                      00244 
00E8                  00245 Date_Finished
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00246 Pagechange labelj
00E8   00D3               M                    movwf        var ; Save the index
00E9   30??               M                    movlw        HIGH labelj
00EA   008A               M                    movwf        PCLATH ; Store it for next jump
00EB   0853               M                    movf         var, W
00EC   3E??               M                    addlw        LOW labelj     ; Compute its Offset
00ED   1803               M                    btfsc        STATUS, C
00EE   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
00EF   0082               M                    movwf        PCL ; Write the correct address to PC
00F0                  00247 labelj
Warning[205]: Found directive in column 1. (dt)
00F0   3444 3461 3474 00248 dt "Date_Finished: ", 0
       3465 345F 3446 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       3469 346E 3469 
       3473 3468 3465 
       3464 343A 3420 
       3400 
                      00249 
0100                  00250 Patterns_Chosen
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00251 Pagechange labelk
0100   00D3               M                    movwf        var ; Save the index
0101   30??               M                    movlw        HIGH labelk
0102   008A               M                    movwf        PCLATH ; Store it for next jump
0103   0853               M                    movf         var, W
0104   3E??               M                    addlw        LOW labelk     ; Compute its Offset
0105   1803               M                    btfsc        STATUS, C
0106   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
0107   0082               M                    movwf        PCL ; Write the correct address to PC
0108                  00252 labelk
Warning[205]: Found directive in column 1. (dt)
0108   3450 3461 3474 00253 dt "Patterns Selected: ", 0
       3474 3465 3472 
       346E 3473 3420 
       3453 3465 346C 
       3465 3463 3474 
       3465 3464 343A 
       3420 3400 
                      00254 
011C                  00255 White_Remaining
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00256 Pagechange labelg
011C   00D3               M                    movwf        var ; Save the index
011D   30??               M                    movlw        HIGH labelg
011E   008A               M                    movwf        PCLATH ; Store it for next jump
011F   0853               M                    movf         var, W
0120   3E??               M                    addlw        LOW labelg     ; Compute its Offset
0121   1803               M                    btfsc        STATUS, C
0122   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
0123   0082               M                    movwf        PCL ; Write the correct address to PC
0124                  00257 labelg
Warning[205]: Found directive in column 1. (dt)
0124   3457 3468 3469 00258 dt "White Remaining: ", 0
       3474 3465 3420 
       3452 3465 346D 
       3461 3469 346E 
       3469 346E 3467 
       343A 3420 3400 
                      00259 
0136                  00260 Orange_Remaining
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00261 Pagechange labelh
0136   00D3               M                    movwf        var ; Save the index
0137   30??               M                    movlw        HIGH labelh
0138   008A               M                    movwf        PCLATH ; Store it for next jump
0139   0853               M                    movf         var, W
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

013A   3E??               M                    addlw        LOW labelh     ; Compute its Offset
013B   1803               M                    btfsc        STATUS, C
013C   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
013D   0082               M                    movwf        PCL ; Write the correct address to PC
013E                  00262 labelh
Warning[205]: Found directive in column 1. (dt)
013E   344F 3472 3461 00263 dt "Orange Remaining: ", 0
       346E 3467 3465 
       3420 3452 3465 
       346D 3461 3469 
       346E 3469 346E 
       3467 343A 3420 
       3400 
                      00264 
0151                  00265 Time_Taken
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00266 Pagechange labeli
0151   00D3               M                    movwf        var ; Save the index
0152   30??               M                    movlw        HIGH labeli
0153   008A               M                    movwf        PCLATH ; Store it for next jump
0154   0853               M                    movf         var, W
0155   3E??               M                    addlw        LOW labeli     ; Compute its Offset
0156   1803               M                    btfsc        STATUS, C
0157   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
0158   0082               M                    movwf        PCL ; Write the correct address to PC
0159                  00267 labeli
Warning[205]: Found directive in column 1. (dt)
0159   3454 3469 346D 00268 dt "Time Elapsed: ", 0
       3465 3420 3445 
       346C 3461 3470 
       3473 3465 3464 
       343A 3420 3400 
                      00269 
0168                  00270 Log
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00271 Pagechange labell
0168   00D3               M                    movwf        var ; Save the index
0169   30??               M                    movlw        HIGH labell
016A   008A               M                    movwf        PCLATH ; Store it for next jump
016B   0853               M                    movf         var, W
016C   3E??               M                    addlw        LOW labell     ; Compute its Offset
016D   1803               M                    btfsc        STATUS, C
016E   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
016F   0082               M                    movwf        PCL ; Write the correct address to PC
0170                  00272 labell
Warning[205]: Found directive in column 1. (dt)
0170   344C 346F 3467 00273 dt "Log Information", 0
       3420 3449 346E 
       3466 346F 3472 
       346D 3461 3474 
       3469 346F 346E 
       3400 
                      00274 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00275 ;***************************************
                      00276 ; Initilization of both LCD and RTC
                      00277 ;***************************************
0180                  00278 init
0180                  00279 Enabletimer0
                      00280 ;               bcf STATUS,RP0 ; select bank 0
                      00281 ;               bsf INTCON,7 ;global interrupts enabled
                      00282 ;               bcf INTCON,1 ;clear the interrput flag
                      00283 ;               bsf STATUS,RP0
                      00284 ;               bsf OPTION_REG, INTEDG ;set it so that the interrput only occurs on the positive edge
                      00285 ;               bcf OPTION_REG,T0CS ;set internal clock source
                      00286 ;               bcf OPTION_REG,T0SE ;read on low to high edges
                      00287 ;               bcf OPTION_REG,PSA ;use prescaler
                      00288 ;               bsf OPTION_REG,PS0
                      00289 ;               bsf OPTION_REG,PS1 ;use a prescaler of 256
                      00290 ;               bsf OPTION_REG,PS2
                      00291 ;               bcf STATUS,RP0
0180   018B           00292         clrf            INTCON         ; No interrupts
                      00293                 ;bsf                    INTCON,T0IE        ; Enable Timer 0 interrupt  clear later!
0181   178B           00294                 bsf                     INTCON,GIE         ; global interrupts enable
0182   160B           00295                 bsf                     INTCON,INTE        ; external interrupts enable
0183   1683           00296         bsf             STATUS,RP0     ; select bank 1
0184   3006           00297         movlw           b'00000110'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0185   009F           00298                 movwf           ADCON1                  ;All digital input, reference voltage Vdd Vss
0186   3073           00299         movlw           b'01110011'    ; Set required keypad inputs
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0187   0086           00300         movwf           TRISB
0188   305C           00301                 movlw           b'01011100'        ; RC6 is input pin for RS232, RB0 interrupt for micro
                            switch
                      00302                                                                    ; RC3, RC4 used for RTC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0189   0087           00303         movwf           TRISC          ; All port C is output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
018A   0188           00304         clrf            TRISD          ; All port D is output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
018B   0189           00305                 clrf            TRISE                   ;All port E is output
018C   3028           00306         movlw           b'101000'    ; Set required PORTA inputs
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
018D   0085           00307         movwf           TRISA   
                      00308 
018E   1283           00309         bcf             STATUS,RP0     ; select bank 0
018F   30C1           00310                 movlw           b'11000001'     ;clock selected, ADC module turned on
0190   009F           00311                 movwf           ADCON0
                      00312 
0191   0185           00313         clrf            PORTA
0192   0186           00314         clrf            PORTB
0193   0187           00315         clrf            PORTC
0194   0188           00316         clrf            PORTD
0195   303F           00317         movlw           b'111111'                       ;Load First_Pattern, 1 for white 0 for orange
0196   00AE           00318                 movwf           First_Pattern
0197   3000           00319                 movlw           b'000000'                       ;Load Second_Pattern 
0198   00AF           00320                 movwf           Second_Pattern
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0199   3007           00321                 movlw           b'000111'                       ;Load Third_Pattern 
019A   00B0           00322                 movwf           Third_Pattern
019B   302D           00323                 movlw           b'101101'                       ;Load Fourth_Pattern 
019C   00B1           00324                 movwf           Fourth_Pattern
019D   3012           00325                 movlw           b'010010'                       ;Load Fifth_Pattern 
019E   00B2           00326                 movwf           Fifth_Pattern
019F   3015           00327                 movlw           b'010101'                       ;Load Sixth_Pattern 
01A0   00B3           00328                 movwf           Sixth_Pattern
01A1   01AD           00329                 clrf            Pattern_Counter         ;Set Pattern Counter to 0
01A2   3008           00330                 movlw           d'8'                            ;Set Patterns to 0 as per keypad
01A3   00A9           00331                 movwf           Pattern_Number_1
01A4   00AA           00332                 movwf           Pattern_Number_2
01A5   00AB           00333                 movwf           Pattern_Number_3
01A6   01D4           00334                 clrf            Operation_Number
01A7   01D5           00335                 clrf            Log_Number
01A8   01D1           00336                 clrf            Read_Address_Counter
                      00337 
                      00338                  ;Set up I2C for communication
01A9   2???           00339                  call      i2c_common_setup
                      00340 
                      00341                  ;rtc_resetAll
                      00342                  
                      00343                  ;Used to set up time in RTC, load to the PIC when RTC is used for the first time
                      00344                  ;call     set_rtc_time
                      00345           
01AA   2???           00346          call      InitLCD    ;Initialize the LCD (code in lcd.asm; imported by lcd.inc)
                      00347 
01AB                  00348 Main    
01AB   2???           00349                 call            RetrieveAddressCounter
01AC   0851           00350                 movf            Read_Address_Counter,W                          ;Check if at end        
01AD   3CFF           00351                 sublw           0xFF                                                    ;subtract addres
                            s counter from 247  (13x19 + 1 to account for 0) 
01AE   1903           00352                 btfsc           STATUS,Z                                                ;zero bit to see
                             if 0
01AF   2???           00353                 call            Save0intoaddresscounter
                      00354                 ;call           show_RTC
01B0   2???           00355                 goto            StartingInterface
01B1                  00356 DoneInterface
01B1   2???           00357                 call            Set_Balls
01B2   2???           00358                 call            Show_Balls
01B3   2???           00359                 call            EnterBoxes
01B4   2???           00360                 call            EnterPattern
01B5   2???           00361                 call            ClrLCD
                      00362                 Display         Busy                            ;show busy on lcd
  0000                    M                 local   loop_
  0000                    M                 local   end_
01B6   01A2               M                 clrf    Table_Counter   
01B7   0103               M                 clrw    
                          M         
01B8   0822               M loop_   movf    Table_Counter,W
01B9   2???               M                 call    Busy
01BA   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
01BB   1903               M                 btfsc   STATUS,Z
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01BC   2???               M                 goto    end_
01BD   2???               M                 call    WR_DATA
01BE   0AA2               M                 incf    Table_Counter,F
01BF   2???               M                 goto    loop_
01C0                      M end_
01C0   120A           00363                 bcf                     PCLATH,4                        ;Select page 1
01C1   158A           00364                 bsf                     PCLATH,3        
01C2   2???           00365                 call            Loading
01C3   1007           00366                 bcf                     PORTC,0                         ;prepare Movebox
                      00367                 ;call           zeropointone            ;wait for debouncing
01C4   2???           00368                 call            MoveBox                         ;move last box
01C5   120A           00369                 bcf                     PCLATH,4                        ;Select page 0
01C6   118A           00370                 bcf                     PCLATH,3
01C7   2???           00371                 call            DoneAutonomous
01C8   2???           00372                 call            RetrieveLog
01C9   120A           00373                 bcf                     PCLATH,4                        ;Select page 1
01CA   158A           00374                 bsf                     PCLATH,3        
01CB   2???           00375                 goto            EndMenu
                      00376 
01CC                  00377 Show_Balls
01CC   2???           00378                 call            ClrLCD
01CD   3057           00379                 movlw           "W"
01CE   2???           00380                 call            WR_DATA
01CF   303A           00381                 movlw           ":"
01D0   2???           00382                 call            WR_DATA
01D1   084E           00383                 movfw           WhiteBalls
01D2   00D2           00384                 movwf           Memory_Temp
01D3   2???           00385                 call            WriteTheBalls
01D4   2???           00386                 call            Switch_Lines
01D5   304F           00387                 movlw           "O"
01D6   2???           00388                 call            WR_DATA
01D7   303A           00389                 movlw           ":"
01D8   2???           00390                 call            WR_DATA
01D9   084F           00391                 movfw           OrangeBalls
01DA   084F           00392                 movfw           OrangeBalls
01DB   00D2           00393                 movwf           Memory_Temp
01DC   2???           00394                 call            WriteTheBalls
01DD   3020           00395                 movlw           " "
01DE   2???           00396                 call            WR_DATA
01DF   3020           00397                 movlw           " "
01E0   2???           00398                 call            WR_DATA
01E1   3050           00399                 movlw           "P"
01E2   2???           00400                 call            WR_DATA
01E3   3072           00401                 movlw           "r"
01E4   2???           00402                 call            WR_DATA
01E5   3065           00403                 movlw           "e"
01E6   2???           00404                 call            WR_DATA
01E7   3073           00405                 movlw           "s"
01E8   2???           00406                 call            WR_DATA
01E9   3073           00407                 movlw           "s"
01EA   2???           00408                 call            WR_DATA
01EB   3020           00409                 movlw           " "
01EC   2???           00410                 call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01ED   302A           00411                 movlw           "*"
01EE   2???           00412                 call            WR_DATA
01EF   2???           00413                 call            StarPressed
01F0   0008           00414                 return
                      00415 
01F1                  00416 WriteTheBalls
01F1   0852           00417                 movfw           Memory_Temp
01F2   3C09           00418                 sublw           d'9'                            ;check if over nine
01F3   1C03           00419                 btfss           STATUS,C                        ;will be set if negative
01F4   2???           00420                 goto            OverNineShow
01F5   2???           00421                 goto            UnderNineShow
                      00422                 
01F6                  00423 OverNineShow            
01F6   3031           00424                 movlw           "1"
01F7   2???           00425                 call            WR_DATA
01F8   300A           00426                 movlw           d'10'
01F9   02D2           00427                 subwf           Memory_Temp,F
                      00428 
01FA                  00429 UnderNineShow
01FA   0852           00430                 movfw           Memory_Temp
01FB   2???           00431                 call            OneToNine       
01FC   2???           00432                 call            WR_DATA
01FD   0008           00433                 return
                      00434                 
                      00435 
01FE                  00436 Save0intoaddresscounter
01FE   30FF           00437                 movlw           0xFF                                            ;Initilializes address_c
                            ounter to 0!!
01FF   1283           00438                 bcf                     STATUS,RP0
0200   1703           00439                 bsf                     STATUS,RP1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0201   008D           00440                 movwf           EEADR
0202   1303           00441                 bcf                     STATUS,RP1                      ;switch banks to get data
0203   3000           00442                 movlw           0x00
0204   1703           00443                 bsf                     STATUS,RP1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0205   008C           00444                 movwf           EEDATA
0206   1683           00445                 bsf                     STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0207   138C           00446                 bcf                     EECON1,EEPGD
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0208   150C           00447                 bsf                     EECON1,WREN
0209   3055           00448                 movlw           0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
020A   008D           00449                 movwf           EECON2
020B   30AA           00450                 movlw           0xaa
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
020C   008D           00451                 movwf           EECON2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
020D   148C           00452                 bsf                     EECON1,WR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
020E   188C           00453                 btfsc           EECON1,WR
020F   2???           00454                 goto            $-1
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0210   110C           00455                 bcf             EECON1, WREN
0211   1283           00456                 bcf                     STATUS,RP0
0212   1303           00457                 bcf                     STATUS,RP1              
0213   120D           00458                 bcf                     PIR2,EEIF
0214   0008           00459                 return
                      00460 
                      00461 ;***************************************
                      00462 ; LCD control
                      00463 ;***************************************
0215                  00464 Switch_Lines
0215   30C0           00465                 movlw   B'11000000'
0216   2???           00466                 call    WR_INS
0217   0008           00467                 return
                      00468 
0218                  00469 Pick_Log
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00470 Pagechange labele
0218   00D3               M                    movwf        var ; Save the index
0219   30??               M                    movlw        HIGH labele
021A   008A               M                    movwf        PCLATH ; Store it for next jump
021B   0853               M                    movf         var, W
021C   3E??               M                    addlw        LOW labele     ; Compute its Offset
021D   1803               M                    btfsc        STATUS, C
021E   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
021F   0082               M                    movwf        PCL ; Write the correct address to PC
0220                  00471 labele
Warning[205]: Found directive in column 1. (dt)
0220   344C 346F 3467 00472 dt "Log 1,2 or 3", 0
       3420 3431 342C 
       3432 3420 346F 
       3472 3420 3433 
       3400 
                      00473 
022D                  00474 ContMsg2
Warning[206]: Found call to macro in column 1. (Pagechange)
                      00475 Pagechange labelf
022D   00D3               M                    movwf        var ; Save the index
022E   30??               M                    movlw        HIGH labelf
022F   008A               M                    movwf        PCLATH ; Store it for next jump
0230   0853               M                    movf         var, W
0231   3E??               M                    addlw        LOW labelf     ; Compute its Offset
0232   1803               M                    btfsc        STATUS, C
0233   0A8A               M                    incf         PCLATH, F ; If in next, PCLATH = PCLATH + 1
0234   0082               M                    movwf        PCL ; Write the correct address to PC
0235                  00476 labelf
Warning[205]: Found directive in column 1. (dt)
0235   342A 3420 3474 00477 dt "* to continue", 0
       346F 3420 3463 
       346F 346E 3474 
       3469 346E 3475 
       3465 3400 
                      00478 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0243                  00479 StartingInterface
0243   2???           00480                 call      ClrLCD
                      00481                 Display   New_Operation
  0000                    M                 local   loop_
  0000                    M                 local   end_
0244   01A2               M                 clrf    Table_Counter   
0245   0103               M                 clrw    
                          M         
0246   0822               M loop_   movf    Table_Counter,W
0247   2???               M                 call    New_Operation
0248   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0249   1903               M                 btfsc   STATUS,Z
024A   2???               M                 goto    end_
024B   2???               M                 call    WR_DATA
024C   0AA2               M                 incf    Table_Counter,F
024D   2???               M                 goto    loop_
024E                      M end_
024E   2???           00482                 call      Switch_Lines
                      00483                 Display   Log_Information
  0000                    M                 local   loop_
  0000                    M                 local   end_
024F   01A2               M                 clrf    Table_Counter   
0250   0103               M                 clrw    
                          M         
0251   0822               M loop_   movf    Table_Counter,W
0252   2???               M                 call    Log_Information
0253   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0254   1903               M                 btfsc   STATUS,Z
0255   2???               M                 goto    end_
0256   2???               M                 call    WR_DATA
0257   0AA2               M                 incf    Table_Counter,F
0258   2???               M                 goto    loop_
0259                      M end_
0259   1C86           00484                 btfss     PORTB,1               ;wait until input is available
025A   2???           00485                 goto      $-1
025B   1B06           00486                 btfsc     PORTB,6
025C   2???           00487                 goto      InvalidOption
025D   1A86           00488                 btfsc     PORTB,5
025E   2???           00489                 goto      InvalidOption 
025F   1A06           00490                 btfsc     PORTB,4
0260   2???           00491                 goto      Log_Info
0261   1886           00492                 btfsc     PORTB,1               ;wait until input is cleared
0262   2???           00493                 goto      $-1
0263   2???           00494                 goto      DoneInterface
                      00495 
0264                  00496 InvalidOption
0264   2???           00497                 call       ClrLCD
                      00498                 Display         InvalidBox
  0000                    M                 local   loop_
  0000                    M                 local   end_
0265   01A2               M                 clrf    Table_Counter   
0266   0103               M                 clrw    
                          M         
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0267   0822               M loop_   movf    Table_Counter,W
0268   2???               M                 call    InvalidBox
0269   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
026A   1903               M                 btfsc   STATUS,Z
026B   2???               M                 goto    end_
026C   2???               M                 call    WR_DATA
026D   0AA2               M                 incf    Table_Counter,F
026E   2???               M                 goto    loop_
026F                      M end_
026F   2???           00499                 call            Switch_Lines
                      00500                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
0270   01A2               M                 clrf    Table_Counter   
0271   0103               M                 clrw    
                          M         
0272   0822               M loop_   movf    Table_Counter,W
0273   2???               M                 call    Cont_Msg
0274   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0275   1903               M                 btfsc   STATUS,Z
0276   2???               M                 goto    end_
0277   2???               M                 call    WR_DATA
0278   0AA2               M                 incf    Table_Counter,F
0279   2???               M                 goto    loop_
027A                      M end_
027A   2???           00501                 call            StarPressed
027B   2???           00502                 goto            StartingInterface
                      00503 
027C                  00504 Log_Info
027C   2???           00505                 call            ClrLCD
                      00506                 Display         Pick_Log
  0000                    M                 local   loop_
  0000                    M                 local   end_
027D   01A2               M                 clrf    Table_Counter   
027E   0103               M                 clrw    
                          M         
027F   0822               M loop_   movf    Table_Counter,W
0280   2???               M                 call    Pick_Log
0281   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0282   1903               M                 btfsc   STATUS,Z
0283   2???               M                 goto    end_
0284   2???               M                 call    WR_DATA
0285   0AA2               M                 incf    Table_Counter,F
0286   2???               M                 goto    loop_
0287                      M end_
0287   2???           00507                 call            Switch_Lines
                      00508                 Display         ContMsg2
  0000                    M                 local   loop_
  0000                    M                 local   end_
0288   01A2               M                 clrf    Table_Counter   
0289   0103               M                 clrw    
                          M         
028A   0822               M loop_   movf    Table_Counter,W
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

028B   2???               M                 call    ContMsg2
028C   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
028D   1903               M                 btfsc   STATUS,Z
028E   2???               M                 goto    end_
028F   2???               M                 call    WR_DATA
0290   0AA2               M                 incf    Table_Counter,F
0291   2???               M                 goto    loop_
0292                      M end_
0292   018A           00509                 clrf            PCLATH
0293                  00510 ReadKeypad2
0293   1C86           00511             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
0294   2???           00512         goto            $-1 
0295   30CF           00513                 movlw           b'11001111'
0296   2???           00514                 call            WR_INS
0297   0E06           00515                 swapf           PORTB,W                         ;Read PortB<7:4> into W<3:0>
0298   390F           00516         andlw           0x0F
0299   00D5           00517                 movwf           Log_Number                      ;Save LOG NUMBER 0,1, OR 2
029A   2???           00518         call            KPHexToChar                     ;Convert keypad value to LCD character          
                            ;(value is still held in W)
029B   2???           00519                 call            WR_DATA
029C   1886           00520         btfsc           PORTB,1                 ;Wait until key is released
029D   2???           00521         goto            $-1
029E   1C86           00522                 btfss           PORTB,1                         ;Check if * is pressed
029F   2???           00523                 goto            $-1
02A0   1E06           00524                 btfss           PORTB,4
02A1   2???           00525                 goto            ReadKeypad2
02A2   1E86           00526                 btfss           PORTB,5
02A3   2???           00527                 goto            ReadKeypad2
02A4   1B06           00528                 btfsc           PORTB,6
02A5   2???           00529                 goto            ReadKeypad2
02A6   1886           00530                 btfsc           PORTB,1                 ;Wait until key is released
02A7   2???           00531         goto            $-1
02A8   2???           00532                 goto            CheckValidInput         ;Check if it is a valid box number
                      00533 
02A9                  00534 CheckValidInput
02A9   1955           00535                 btfsc           Log_Number,2                    ;If Log > 3
02AA   2???           00536                 goto            InvalidLogNumber
02AB   1C55           00537                 btfss           Log_Number,0                    ;If Log > 3
02AC   2???           00538                 goto            Goodinput
02AD   1CD5           00539                 btfss           Log_Number,1                    ;If Log > 3
02AE   2???           00540                 goto            Goodinput
02AF   2???           00541                 goto            InvalidLogNumber
02B0                  00542 Goodinput
02B0   2???           00543                 call            RetrieveAddressCounter
02B1                  00544 GoodinputLoop
02B1   0851           00545                 movfw           Read_Address_Counter
02B2   3E00           00546                 addlw           0x00                            ;check if at 0, Z == 0 if true
02B3   1903           00547                 btfsc           STATUS,Z                        ;loop around to 255
02B4   2???           00548                 call            Change_Read_Address_Counter_255
02B5   3011           00549                 movlw           d'17'
02B6   02D1           00550                 subwf           Read_Address_Counter,F
02B7   3001           00551                 movlw           d'1'
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02B8   02D5           00552                 subwf           Log_Number,F
02B9   1803           00553                 btfsc           STATUS,C
02BA   2???           00554                 goto            GoodinputLoop           ;loop until log number == 0     (log number - 1 
                            is negative)            
02BB   2???           00555                 call            Retrieveinfo
02BC   120A           00556                 bcf                     PCLATH,4                        ;Select page 1
02BD   158A           00557                 bsf                     PCLATH,3
02BE   2???           00558                 goto            EndMenu
                      00559                 
02BF                  00560 InvalidLogNumber
02BF   2???           00561                 call            ClrLCD
                      00562                 Display         InvalidBox
  0000                    M                 local   loop_
  0000                    M                 local   end_
02C0   01A2               M                 clrf    Table_Counter   
02C1   0103               M                 clrw    
                          M         
02C2   0822               M loop_   movf    Table_Counter,W
02C3   2???               M                 call    InvalidBox
02C4   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
02C5   1903               M                 btfsc   STATUS,Z
02C6   2???               M                 goto    end_
02C7   2???               M                 call    WR_DATA
02C8   0AA2               M                 incf    Table_Counter,F
02C9   2???               M                 goto    loop_
02CA                      M end_
02CA   2???           00563                 call            Switch_Lines
                      00564                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
02CB   01A2               M                 clrf    Table_Counter   
02CC   0103               M                 clrw    
                          M         
02CD   0822               M loop_   movf    Table_Counter,W
02CE   2???               M                 call    Cont_Msg
02CF   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
02D0   1903               M                 btfsc   STATUS,Z
02D1   2???               M                 goto    end_
02D2   2???               M                 call    WR_DATA
02D3   0AA2               M                 incf    Table_Counter,F
02D4   2???               M                 goto    loop_
02D5                      M end_
02D5   2???           00565                 call            StarPressed
02D6   2???           00566                 goto            Log_Info
                      00567 
                      00568 
02D7                  00569 Set_Balls
02D7   2???           00570                 call      ClrLCD
02D8   3031           00571                 movlw     "1"
02D9   2???           00572                 call      WR_DATA
02DA   302D           00573                 movlw     "-"
02DB   2???           00574                 call      WR_DATA
02DC   3052           00575                 movlw     "R"
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02DD   2???           00576                 call      WR_DATA
02DE   3065           00577                 movlw     "e"
02DF   2???           00578                 call      WR_DATA
02E0   3073           00579                 movlw     "s"
02E1   2???           00580                 call      WR_DATA
02E2   3065           00581                 movlw     "e"
02E3   2???           00582                 call      WR_DATA
02E4   3074           00583                 movlw     "t"
02E5   2???           00584                 call      WR_DATA
02E6   3020           00585                 movlw     " "
02E7   2???           00586                 call      WR_DATA
02E8   3042           00587                 movlw     "B"
02E9   2???           00588                 call      WR_DATA               
02EA   3061           00589                 movlw     "a"
02EB   2???           00590                 call      WR_DATA
02EC   306C           00591                 movlw     "l"
02ED   2???           00592                 call      WR_DATA
02EE   306C           00593                 movlw     "l"
02EF   2???           00594                 call      WR_DATA
02F0   3073           00595                 movlw     "s"
02F1   2???           00596                 call      WR_DATA
02F2   2???           00597                 call      Switch_Lines
02F3   3032           00598                 movlw     "2"
02F4   2???           00599                 call      WR_DATA
02F5   302D           00600                 movlw     "-"
02F6   2???           00601                 call      WR_DATA
02F7   304C           00602                 movlw     "L"
02F8   2???           00603                 call      WR_DATA
02F9   306F           00604                 movlw     "o"
02FA   2???           00605                 call      WR_DATA
02FB   3061           00606                 movlw     "a"
02FC   2???           00607                 call      WR_DATA
02FD   3064           00608                 movlw     "d"
02FE   2???           00609                 call      WR_DATA               
02FF   3020           00610                 movlw     " "
0300   2???           00611                 call      WR_DATA
0301   3050           00612                 movlw     "P"
0302   2???           00613                 call      WR_DATA
0303   3072           00614                 movlw     "r"
0304   2???           00615                 call      WR_DATA
0305   3065           00616                 movlw     "e"
0306   2???           00617                 call      WR_DATA
0307   3076           00618                 movlw     "v"
0308   2???           00619                 call      WR_DATA               
0309   3069           00620                 movlw     "i"
030A   2???           00621                 call      WR_DATA
030B   306F           00622                 movlw     "o"
030C   2???           00623                 call      WR_DATA
030D   3075           00624                 movlw     "u"
030E   2???           00625                 call      WR_DATA
030F   3073           00626                 movlw     "s"
0310   2???           00627                 call      WR_DATA
0311   1C86           00628                 btfss     PORTB,1               ;wait until input is available
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0312   2???           00629                 goto      $-1
0313   1B06           00630                 btfsc     PORTB,6
0314   2???           00631                 goto      InvalidOption2
0315   1A86           00632                 btfsc     PORTB,5
0316   2???           00633                 goto      InvalidOption2        
0317   1A06           00634                 btfsc     PORTB,4
0318   2???           00635                 goto      Retrieve_Balls
0319   2???           00636                 goto      Reset_Balls
                      00637         
031A                  00638 Reset_Balls
031A   01CE           00639                 clrf      WhiteBalls
031B   01CF           00640                 clrf      OrangeBalls
031C   2???           00641                 goto      LoadBalls
                      00642 
031D                  00643 Retrieve_Balls
031D   2???           00644                 call      RetrieveLog
031E   2???           00645                 goto      LoadBalls
                      00646 
031F                  00647 LoadBalls
031F   1886           00648                 btfsc     PORTB,1               ;wait until input is cleared
0320   2???           00649                 goto      $-1
0321   2???           00650                 call      ClrLCD
0322   304C           00651                 movlw     "L"
0323   2???           00652                 call      WR_DATA
0324   306F           00653                 movlw     "o"
0325   2???           00654                 call      WR_DATA
0326   3061           00655                 movlw     "a"
0327   2???           00656                 call      WR_DATA               
0328   3064           00657                 movlw     "d"
0329   2???           00658                 call      WR_DATA
032A   3020           00659                 movlw     " "
032B   2???           00660                 call      WR_DATA
032C   3042           00661                 movlw     "B"
032D   2???           00662                 call      WR_DATA
032E   3061           00663                 movlw     "a"
032F   2???           00664                 call      WR_DATA       
0330   306C           00665                 movlw     "l"
0331   2???           00666                 call      WR_DATA               
0332   306C           00667                 movlw     "l"
0333   2???           00668                 call      WR_DATA
0334   3073           00669                 movlw     "s"
0335   2???           00670                 call      WR_DATA
0336   2???           00671                 call      Switch_Lines
                      00672                 Display   Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
0337   01A2               M                 clrf    Table_Counter   
0338   0103               M                 clrw    
                          M         
0339   0822               M loop_   movf    Table_Counter,W
033A   2???               M                 call    Cont_Msg
033B   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
033C   1903               M                 btfsc   STATUS,Z
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

033D   2???               M                 goto    end_
033E   2???               M                 call    WR_DATA
033F   0AA2               M                 incf    Table_Counter,F
0340   2???               M                 goto    loop_
0341                      M end_
0341   2???           00673                 call      StarPressed
0342   0008           00674                 return
                      00675 
0343                  00676 InvalidOption2
0343   2???           00677                 call       ClrLCD
                      00678                 Display         InvalidBox
  0000                    M                 local   loop_
  0000                    M                 local   end_
0344   01A2               M                 clrf    Table_Counter   
0345   0103               M                 clrw    
                          M         
0346   0822               M loop_   movf    Table_Counter,W
0347   2???               M                 call    InvalidBox
0348   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0349   1903               M                 btfsc   STATUS,Z
034A   2???               M                 goto    end_
034B   2???               M                 call    WR_DATA
034C   0AA2               M                 incf    Table_Counter,F
034D   2???               M                 goto    loop_
034E                      M end_
034E   2???           00679                 call            Switch_Lines
                      00680                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
034F   01A2               M                 clrf    Table_Counter   
0350   0103               M                 clrw    
                          M         
0351   0822               M loop_   movf    Table_Counter,W
0352   2???               M                 call    Cont_Msg
0353   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0354   1903               M                 btfsc   STATUS,Z
0355   2???               M                 goto    end_
0356   2???               M                 call    WR_DATA
0357   0AA2               M                 incf    Table_Counter,F
0358   2???               M                 goto    loop_
0359                      M end_
0359   2???           00681                 call            StarPressed
035A   2???           00682                 goto            Set_Balls
                      00683 
035B                  00684 RetrieveLog
035B   2???           00685                 call            RetrieveAddressCounter
035C   0851           00686                 movfw           Read_Address_Counter
035D   3E00           00687                 addlw           0x00                            ;check if at 0, Z == 0 if true
035E   1903           00688                 btfsc           STATUS,Z                        ;loop around to 255
035F   2???           00689                 call            Change_Read_Address_Counter_255
0360   3011           00690                 movlw           d'17'
0361   02D1           00691                 subwf           Read_Address_Counter,F
0362   2???           00692                 call            Retrieveinfo
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0363   0008           00693                 return
                      00694 
0364                  00695 RetrieveAddressCounter
0364   30FF           00696                 movlw           0xFF                            ;Get Address of last operation  FE works
                             as opposed to FF
0365   1283           00697                 bcf             STATUS,RP0
0366   1703           00698                 bsf             STATUS,RP1 ;Selects Bank 2
                      00699 ;Address Defined by moving Read_Address_Counter into working register
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0367   008D           00700                 movwf           EEADR
0368   1683           00701                 bsf             STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0369   138C           00702                 bcf             EECON1,EEPGD ;point to data memory
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
036A   140C           00703                 bsf             EECON1,RD ; Starts reading operation
036B   1283           00704                 bcf             STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
036C   080C           00705                 movfw           EEDATA
036D   1303           00706                 bcf             STATUS,RP1 ; Selects Bank 0
036E   00D1           00707                 movwf           Read_Address_Counter
036F   0008           00708                 return
                      00709 
0370                  00710 Change_Read_Address_Counter_255
0370   0851           00711                 movfw           Read_Address_Counter
0371   3EEE           00712                 addlw           d'238'
0372   00D1           00713                 movwf           Read_Address_Counter
0373   0008           00714                 return  
                      00715 
0374                  00716 Retrieveinfo
                      00717                 ;Put appropriate EEPROM values into registers
0374   2???           00718                 call            Read_EEPROM
0375   0852           00719                 movfw           Memory_Temp
0376   00A9           00720                 movwf           Pattern_Number_1
                      00721 
Message[305]: Using default destination of 1 (file).
0377   0AD1           00722                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
0378   2???           00723                 call            Read_EEPROM
0379   0852           00724                 movfw           Memory_Temp
037A   00AA           00725                 movwf           Pattern_Number_2
                      00726 
Message[305]: Using default destination of 1 (file).
037B   0AD1           00727                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
037C   2???           00728                 call            Read_EEPROM
037D   0852           00729                 movfw           Memory_Temp
037E   00AB           00730                 movwf           Pattern_Number_3
                      00731 
Message[305]: Using default destination of 1 (file).
037F   0AD1           00732                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
0380   2???           00733                 call            Read_EEPROM
0381   0852           00734                 movfw           Memory_Temp
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0382   00B7           00735                 movwf           TensMonth
                      00736 
Message[305]: Using default destination of 1 (file).
0383   0AD1           00737                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
0384   2???           00738                 call            Read_EEPROM
0385   0852           00739                 movfw           Memory_Temp
0386   00B8           00740                 movwf           OnesMonth
                      00741 
Message[305]: Using default destination of 1 (file).
0387   0AD1           00742                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
0388   2???           00743                 call            Read_EEPROM
0389   0852           00744                 movfw           Memory_Temp
038A   00B9           00745                 movwf           TensDay
                      00746 
Message[305]: Using default destination of 1 (file).
038B   0AD1           00747                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
038C   2???           00748                 call            Read_EEPROM
038D   0852           00749                 movfw           Memory_Temp
038E   00BA           00750                 movwf           OnesDay
                      00751 
038F   0AD1           00752                 incf            Read_Address_Counter,F                          ;Save Date Finished
0390   2???           00753                 call            Read_EEPROM
0391   0852           00754                 movfw           Memory_Temp
0392   00C1           00755                 movwf           TensHoursFinished
                      00756 
0393   0AD1           00757                 incf            Read_Address_Counter,F                          ;Save Date Finished
0394   2???           00758                 call            Read_EEPROM
0395   0852           00759                 movfw           Memory_Temp
0396   00C2           00760                 movwf           OnesHoursFinished
                      00761 
0397   0AD1           00762                 incf            Read_Address_Counter,F                          ;Save Date Finished
0398   2???           00763                 call            Read_EEPROM
0399   0852           00764                 movfw           Memory_Temp
039A   00C3           00765                 movwf           TensMinutesFinished
                      00766 
039B   0AD1           00767                 incf            Read_Address_Counter,F                          ;Save Date Finished
039C   2???           00768                 call            Read_EEPROM
039D   0852           00769                 movfw           Memory_Temp
039E   00C4           00770                 movwf           OnesMinutesFinished
                      00771 
039F   0AD1           00772                 incf            Read_Address_Counter,F                          ;Save Date Finished
03A0   2???           00773                 call            Read_EEPROM
03A1   0852           00774                 movfw           Memory_Temp
03A2   00C5           00775                 movwf           TensSecondsFinished
                      00776 
03A3   0AD1           00777                 incf            Read_Address_Counter,F                          ;Save Date Finished
03A4   2???           00778                 call            Read_EEPROM
03A5   0852           00779                 movfw           Memory_Temp
03A6   00C6           00780                 movwf           OnesSecondsFinished
                      00781 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
03A7   0AD1           00782                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
03A8   2???           00783                 call            Read_EEPROM
03A9   0852           00784                 movfw           Memory_Temp
03AA   00C9           00785                 movwf           TSE
                      00786 
Message[305]: Using default destination of 1 (file).
03AB   0AD1           00787                 incf            Read_Address_Counter            ;Put appropriate EEPROM values into regi
                            sters
03AC   2???           00788                 call            Read_EEPROM
03AD   0852           00789                 movfw           Memory_Temp
03AE   00C8           00790                 movwf           OSE
                      00791 
03AF   0AD1           00792                 incf            Read_Address_Counter,F                          ;Save Date Finished
03B0   2???           00793                 call            Read_EEPROM
03B1   0852           00794                 movfw           Memory_Temp
03B2   00CE           00795                 movwf           WhiteBalls
                      00796 
03B3   0AD1           00797                 incf            Read_Address_Counter,F                          ;Save Date Finished
03B4   2???           00798                 call            Read_EEPROM
03B5   0852           00799                 movfw           Memory_Temp
03B6   00CF           00800                 movwf           OrangeBalls
03B7   0AD1           00801                 incf            Read_Address_Counter,F  
                      00802 
03B8   0008           00803                 return
                      00804 
03B9                  00805 Read_EEPROM
03B9   0851           00806                 movfw           Read_Address_Counter
03BA   1283           00807                 bcf             STATUS,RP0
03BB   1703           00808                 bsf             STATUS,RP1 ;Selects Bank 2
                      00809 ;Address Defined by moving Read_Address_Counter into working register
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03BC   008D           00810                 movwf           EEADR
03BD   1683           00811                 bsf             STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03BE   138C           00812                 bcf             EECON1,EEPGD ;point to data memory
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03BF   140C           00813                 bsf             EECON1,RD ; Starts reading operation
03C0   1283           00814                 bcf             STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03C1   080C           00815                 movfw           EEDATA
03C2   1303           00816                 bcf             STATUS,RP1 ; Selects Bank 0
03C3   00D2           00817                 movwf           Memory_Temp
03C4   0008           00818                 return
                      00819 
03C5                  00820 AddoneWhite
                      00821                 ;call           ClrLCD
03C5   2???           00822                 call            zeropointonepg0
03C6   2???           00823                 call            zeropointonepg0
03C7   2???           00824                 call            zeropointonepg0
03C8   2???           00825                 call            zeropointonepg0
Message[305]: Using default destination of 1 (file).
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03C9   0ACE           00826                 incf            WhiteBalls                      ;add one and wait until clear
                      00827 ;               movlw           "W"
                      00828 ;               call            WR_DATA
                      00829 ;               movlw           ":"
                      00830 ;               call            WR_DATA
03CA   084E           00831                 movfw           WhiteBalls
03CB   00D2           00832                 movwf           Memory_Temp                     ;put balls in temp
03CC   0852           00833                 movfw           Memory_Temp
03CD   3C13           00834                 sublw           d'19'                           ;check if over 19
03CE   1C03           00835                 btfss           STATUS,C                        ;will be set if negative
03CF   01CE           00836                 clrf            WhiteBalls                      ;reset if over 19
03D0   084E           00837                 movfw           WhiteBalls
03D1   00D2           00838                 movwf           Memory_Temp                     ;put balls in temp
03D2   0852           00839                 movfw           Memory_Temp
03D3   3C09           00840                 sublw           d'9'                            ;check if over nine
03D4   1C03           00841                 btfss           STATUS,C                        ;will be set if negative
03D5   2???           00842                 goto            OverNine1
03D6   2???           00843                 goto            DoneChecking1
                      00844 
03D7                  00845 AddoneOrange
                      00846         ;       call            ClrLCD
03D7   2???           00847                 call            zeropointonepg0         ;need more delay for debouncing
03D8   2???           00848                 call            zeropointonepg0
03D9   2???           00849                 call            zeropointonepg0
03DA   2???           00850                 call            zeropointonepg0
Message[305]: Using default destination of 1 (file).
03DB   0ACF           00851                 incf            OrangeBalls                     ;add one and wait until clear
                      00852 ;               movlw           "O"
                      00853 ;               call            WR_DATA
                      00854 ;               movlw           ":"
                      00855 ;               call            WR_DATA
03DC   084F           00856                 movfw           OrangeBalls
03DD   00D2           00857                 movwf           Memory_Temp                     ;put balls in temp
03DE   0852           00858                 movfw           Memory_Temp
03DF   3C13           00859                 sublw           d'19'                           ;check if over 19
03E0   1C03           00860                 btfss           STATUS,C                        ;will be set if negative
03E1   01CF           00861                 clrf            OrangeBalls                     ;reset if over 19
03E2   084F           00862                 movfw           OrangeBalls
03E3   00D2           00863                 movwf           Memory_Temp                     ;put balls in temp
03E4   0852           00864                 movfw           Memory_Temp
03E5   3C09           00865                 sublw           d'9'                            ;check if over nine
03E6   1C03           00866                 btfss           STATUS,C                        ;will be set if negative
03E7   2???           00867                 goto            OverNine1
03E8   2???           00868                 goto            DoneChecking1
                      00869 
                      00870 ;OverNineteen
                      00871 ;               clrf            Memory_Temp                     ;reset if over 19 somehow
                      00872 ;               goto            DoneChecking1
                      00873                 
03E9                  00874 OverNine1               
                      00875 ;               movlw           d'1'
                      00876 ;               call            OneToNine
                      00877 ;               call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03E9   300A           00878                 movlw           d'10'
03EA   02D2           00879                 subwf           Memory_Temp,F
                      00880 
03EB                  00881 DoneChecking1
03EB   0852           00882                 movfw           Memory_Temp
03EC   1985           00883                 btfsc           PORTA,3
03ED   2???           00884                 goto            $-1
03EE   1889           00885                 btfsc           PORTE,1
03EF   2???           00886                 goto            $-1
03F0   0008           00887                 return
                      00888 
03F1                  00889 Switch_To_Page1
03F1   120A           00890                 bcf                     PCLATH,4
03F2   158A           00891                 bsf                     PCLATH,3
03F3   0008           00892                 return
                      00893 
03F4                  00894 point01pg0
                      00895                         ;24998 cycles
03F4   3087           00896         movlw   0x87
03F5   00A4           00897         movwf   lcd_d1
03F6   3014           00898         movlw   0x14
03F7   00A5           00899         movwf   lcd_d2
03F8                  00900 point01_0pg0
03F8   0BA4           00901         decfsz  lcd_d1, f
03F9   2???           00902         goto    $+2
03FA   0BA5           00903         decfsz  lcd_d2, f
03FB   2???           00904         goto    point01_0pg0
                      00905                         ;2 cycles
03FC   2???           00906         goto    $+1
03FD   0008           00907         return
                      00908 
03FE                  00909 zeropointonepg0
03FE   301F           00910         movlw   0x1F
03FF   00A4           00911         movwf   lcd_d1
0400   304F           00912         movlw   0x4F
0401   00A5           00913         movwf   lcd_d2
0402                  00914 zeropointonepg0_0
0402   0BA4           00915         decfsz  lcd_d1, f
0403   2???           00916         goto    $+2
0404   0BA5           00917         decfsz  lcd_d2, f
0405   2???           00918         goto    zeropointonepg0_0
                      00919 
                      00920                         ;2 cycles
0406   2???           00921         goto    $+1
0407   0008           00922         return
                      00923 ;***************************************
                      00924 ; Setup RTC with time defined by user
                      00925 ;***************************************
                      00926 ;set_rtc_time
                      00927 ;
                      00928 ;               rtc_resetAll    ;reset rtc
                      00929 ;
                      00930 ;               rtc_set 0x00,   B'10000000'
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00931 ;
                      00932 ;               ;set time 
                      00933 ;               rtc_set 0x06,   B'00010011'             ; Year
                      00934 ;               rtc_set 0x05,   B'00000100'             ; Month
                      00935 ;               rtc_set 0x04,   B'00000001'             ; Date
                      00936 ;               rtc_set 0x03,   B'00000010'             ; Day
                      00937 ;               rtc_set 0x02,   B'00100001'             ; Hours
                      00938 ;               rtc_set 0x01,   B'01000000'             ; Minutes
                      00939 ;               rtc_set 0x00,   B'00000000'             ; Seconds
                      00940 ;               return
                      00941 ;
                      00942 ;show_RTC
                      00943 ;               ;clear LCD screen
                      00944 ;               movlw   b'00000001'
                      00945 ;               call    WR_INS
                      00946 ;
                      00947 ;               ;Get year
                      00948 ;               movlw   "2"                             ;First line shows 20**/**/**
                      00949 ;               call    WR_DATA
                      00950 ;               movlw   "0"
                      00951 ;               call    WR_DATA
                      00952 ;               rtc_read        0x06            ;Read Address 0x06 from DS1307---year
                      00953 ;               movfw   0x77
                      00954 ;               call    WR_DATA
                      00955 ;               movfw   0x78
                      00956 ;               call    WR_DATA
                      00957 ;
                      00958 ;               movlw   "/"
                      00959 ;               call    WR_DATA
                      00960 ;
                      00961 ;               ;Get month
                      00962 ;               rtc_read        0x05            ;Read Address 0x05 from DS1307---month
                      00963 ;               movfw   0x77
                      00964 ;               call    WR_DATA
                      00965 ;               movfw   0x78
                      00966 ;               call    WR_DATA
                      00967 ;
                      00968 ;               movlw   "/"
                      00969 ;               call    WR_DATA
                      00970 ;
                      00971 ;               ;Get day
                      00972 ;               rtc_read        0x04            ;Read Address 0x04 from DS1307---day
                      00973 ;               movfw   0x77
                      00974 ;               call    WR_DATA
                      00975 ;               movfw   0x78
                      00976 ;               call    WR_DATA
                      00977 ;
                      00978 ;               movlw   B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
                      00979 ;               call    WR_INS
                      00980 ;
                      00981 ;               ;Get hour
                      00982 ;               rtc_read        0x02            ;Read Address 0x02 from DS1307---hour
                      00983 ;               movfw   0x77
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00984 ;               call    WR_DATA
                      00985 ;               movfw   0x78
                      00986 ;               call    WR_DATA
                      00987 ;               movlw                   ":"
                      00988 ;               call    WR_DATA
                      00989 ;
                      00990 ;               ;Get minute             
                      00991 ;               rtc_read        0x01            ;Read Address 0x01 from DS1307---min
                      00992 ;               movfw   0x77
                      00993 ;               call    WR_DATA
                      00994 ;               movfw   0x78
                      00995 ;               call    WR_DATA         
                      00996 ;               movlw                   ":"
                      00997 ;               call    WR_DATA
                      00998 ;               
                      00999 ;               ;Get seconds
                      01000 ;               rtc_read        0x00            ;Read Address 0x00 from DS1307---seconds
                      01001 ;               movfw   0x77
                      01002 ;               call    WR_DATA
                      01003 ;               movfw   0x78
                      01004 ;               call    WR_DATA
                      01005 ;               
                      01006 ;               call    OneS                    ;Delay for exactly one seconds and read DS1307 again
                      01007 ;               goto    show_RTC
                      01008 
                      01009 ;***************************************
                      01010 ; Delay 1s
                      01011 ;***************************************
0408                  01012 OneS
  0000                01013                 local   OneS_0
0408   3010           01014       movlw 0x10
0409   00??           01015       movwf COUNTH
040A   307A           01016       movlw 0x7A
040B   00??           01017       movwf COUNTM
040C   3006           01018       movlw 0x06
040D   00??           01019       movwf COUNTL
                      01020 
040E                  01021 OneS_0
040E   0B??           01022       decfsz COUNTH, f
040F   2???           01023       goto   $+2
0410   0B??           01024       decfsz COUNTM, f
0411   2???           01025       goto   $+2
0412   0B??           01026       decfsz COUNTL, f
0413   2???           01027       goto   OneS_0
                      01028 
0414   2???           01029       goto $+1
0415   0000           01030       nop
0416   0000           01031       nop
0417   0008           01032                 return
                      01033 
0418                  01034 StarPressed
0418   1C86           01035                 btfss           PORTB,1                         ;Check if * is pressed
0419   2???           01036                 goto            StarPressed
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

041A   1E06           01037                 btfss           PORTB,4
041B   2???           01038                 goto            $-1
041C   1E86           01039                 btfss           PORTB,5
041D   2???           01040                 goto            StarPressed
041E   1B06           01041                 btfsc           PORTB,6
041F   2???           01042                 goto            StarPressed
0420   1886           01043                 btfsc           PORTB,1                 ;Wait until key is released
0421   2???           01044         goto            $-1
0422   0008           01045                 return
                      01046 
                      01047 ;***************************************
                      01048 ; Allows user to enter # of boxes (1-3)
                      01049 ;***************************************
0423                  01050 EnterBoxes
0423   01AD           01051                 clrf            Pattern_Counter         ;Set Pattern Counter to 0
0424                  01052 DisplayEnterBoxes                                               ;Display Enter # of boxes
0424   2???           01053                 call            ClrLCD
                      01054                 Display         Enter_Boxes     
  0000                    M                 local   loop_
  0000                    M                 local   end_
0425   01A2               M                 clrf    Table_Counter   
0426   0103               M                 clrw    
                          M         
0427   0822               M loop_   movf    Table_Counter,W
0428   2???               M                 call    Enter_Boxes
0429   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
042A   1903               M                 btfsc   STATUS,Z
042B   2???               M                 goto    end_
042C   2???               M                 call    WR_DATA
042D   0AA2               M                 incf    Table_Counter,F
042E   2???               M                 goto    loop_
042F                      M end_
042F   2???           01055                 call            Switch_Lines
                      01056                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
0430   01A2               M                 clrf    Table_Counter   
0431   0103               M                 clrw    
                          M         
0432   0822               M loop_   movf    Table_Counter,W
0433   2???               M                 call    Cont_Msg
0434   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0435   1903               M                 btfsc   STATUS,Z
0436   2???               M                 goto    end_
0437   2???               M                 call    WR_DATA
0438   0AA2               M                 incf    Table_Counter,F
0439   2???               M                 goto    loop_
043A                      M end_
                      01057 
043A                  01058 ReadKeypad
043A   1C86           01059             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
043B   2???           01060         goto            $-1 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

043C   30CF           01061                 movlw           b'11001111'
043D   2???           01062                 call            WR_INS
043E   0E06           01063                 swapf           PORTB,W                         ;Read PortB<7:4> into W<3:0>
043F   390F           01064         andlw           0x0F
0440   00A8           01065                 movwf           Number_of_boxes         ;Save number of boxes
Message[305]: Using default destination of 1 (file).
0441   0AA8           01066                 incf            Number_of_boxes
0442   2???           01067         call            KPHexToChar                     ;Convert keypad value to LCD character          
                            ;(value is still held in W)
0443   2???           01068                 call            WR_DATA
0444   1886           01069         btfsc           PORTB,1                 ;Wait until key is released
0445   2???           01070         goto            $-1
0446   1C86           01071                 btfss           PORTB,1                         ;Check if * is pressed
0447   2???           01072                 goto            $-1
0448   1E06           01073                 btfss           PORTB,4
0449   2???           01074                 goto            ReadKeypad
044A   1E86           01075                 btfss           PORTB,5
044B   2???           01076                 goto            ReadKeypad
044C   1B06           01077                 btfsc           PORTB,6
044D   2???           01078                 goto            ReadKeypad
044E   1886           01079                 btfsc           PORTB,1                 ;Wait until key is released
044F   2???           01080         goto            $-1
0450   2???           01081                 goto            CheckValidBox           ;Check if it is a valid box number
                      01082 
0451                  01083 CheckValidBox
0451   1928           01084                 btfsc           Number_of_boxes,2                       ;If Number_of_boxes > 3
0452   2???           01085                 goto            InvalidBoxNumber
0453   19A8           01086                 btfsc           Number_of_boxes,3                       ;If Number_of_boxes > 3
0454   2???           01087                 goto            InvalidBoxNumber
0455   0008           01088                 return
                      01089                 
0456                  01090 InvalidBoxNumber
0456   2???           01091                 call            ClrLCD
                      01092                 Display         InvalidBox
  0000                    M                 local   loop_
  0000                    M                 local   end_
0457   01A2               M                 clrf    Table_Counter   
0458   0103               M                 clrw    
                          M         
0459   0822               M loop_   movf    Table_Counter,W
045A   2???               M                 call    InvalidBox
045B   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
045C   1903               M                 btfsc   STATUS,Z
045D   2???               M                 goto    end_
045E   2???               M                 call    WR_DATA
045F   0AA2               M                 incf    Table_Counter,F
0460   2???               M                 goto    loop_
0461                      M end_
0461   2???           01093                 call            Switch_Lines
                      01094                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
0462   01A2               M                 clrf    Table_Counter   
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0463   0103               M                 clrw    
                          M         
0464   0822               M loop_   movf    Table_Counter,W
0465   2???               M                 call    Cont_Msg
0466   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0467   1903               M                 btfsc   STATUS,Z
0468   2???               M                 goto    end_
0469   2???               M                 call    WR_DATA
046A   0AA2               M                 incf    Table_Counter,F
046B   2???               M                 goto    loop_
046C                      M end_
046C   2???           01095                 call            StarPressed
046D   2???           01096                 goto            EnterBoxes
                      01097 
                      01098 ;*************************
                      01099 ; User enters patterns (1-6)
                      01100 ;***************************************                
046E                  01101 EnterPattern
Message[305]: Using default destination of 1 (file).
046E   0AAD           01102                 incf            Pattern_Counter                 ;Count which pattern is being loaded
046F                  01103 InvalidPatternStart
046F   2???           01104                 call            ClrLCD
                      01105                 Display         Enter_Pattern
  0000                    M                 local   loop_
  0000                    M                 local   end_
0470   01A2               M                 clrf    Table_Counter   
0471   0103               M                 clrw    
                          M         
0472   0822               M loop_   movf    Table_Counter,W
0473   2???               M                 call    Enter_Pattern
0474   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0475   1903               M                 btfsc   STATUS,Z
0476   2???               M                 goto    end_
0477   2???               M                 call    WR_DATA
0478   0AA2               M                 incf    Table_Counter,F
0479   2???               M                 goto    loop_
047A                      M end_
047A   082D           01106                 movf            Pattern_Counter,W       ;Read Pattern counter<3:0> into W<3:0>
047B   390F           01107                 andlw           0x0F
047C   2???           01108                 call            OneToNine                               ;Display up to nine.
047D   2???           01109                 call            WR_DATA
047E   2???           01110                 call            Switch_Lines
                      01111                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
047F   01A2               M                 clrf    Table_Counter   
0480   0103               M                 clrw    
                          M         
0481   0822               M loop_   movf    Table_Counter,W
0482   2???               M                 call    Cont_Msg
0483   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0484   1903               M                 btfsc   STATUS,Z
0485   2???               M                 goto    end_
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0486   2???               M                 call    WR_DATA
0487   0AA2               M                 incf    Table_Counter,F
0488   2???               M                 goto    loop_
0489                      M end_
                      01112 
                      01113 ;******************************************************************
                      01114 ; Continually reads keypad and updates pattern until '*' is pressed
                      01115 ;******************************************************************
0489                  01116 PatternWaiting
0489   1C86           01117                 btfss           PORTB,1                         ;Wait until data is available from the k
                            eypad
048A   2???           01118         goto            $-1 
048B   30CF           01119                 movlw           b'11001111'
048C   2???           01120                 call            WR_INS
048D   0E06           01121                 swapf           PORTB,W                                 ;Read PortB<7:4> into W<3:0>
048E   390F           01122         andlw           0x0F
                      01123 
048F                  01124 CheckValidPattern
048F   1E06           01125                 btfss           PORTB,4                                 
0490   2???           01126                 goto            GoodPattern
0491   1E86           01127                 btfss           PORTB,5                 
0492   2???           01128                 goto            GoodPattern
                      01129 
0493                  01130 InvalidPatternNumber
0493   2???           01131                 call            ClrLCD
                      01132                 Display         Invalid_Pattern_Number
  0000                    M                 local   loop_
  0000                    M                 local   end_
0494   01A2               M                 clrf    Table_Counter   
0495   0103               M                 clrw    
                          M         
0496   0822               M loop_   movf    Table_Counter,W
0497   2???               M                 call    Invalid_Pattern_Number
0498   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
0499   1903               M                 btfsc   STATUS,Z
049A   2???               M                 goto    end_
049B   2???               M                 call    WR_DATA
049C   0AA2               M                 incf    Table_Counter,F
049D   2???               M                 goto    loop_
049E                      M end_
049E   120A           01133                 bcf                     PCLATH,4
049F   118A           01134                 bcf                     PCLATH,3
04A0   2???           01135                 call            Switch_Lines
                      01136                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
04A1   01A2               M                 clrf    Table_Counter   
04A2   0103               M                 clrw    
                          M         
04A3   0822               M loop_   movf    Table_Counter,W
04A4   2???               M                 call    Cont_Msg
04A5   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
04A6   1903               M                 btfsc   STATUS,Z
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04A7   2???               M                 goto    end_
04A8   2???               M                 call    WR_DATA
04A9   0AA2               M                 incf    Table_Counter,F
04AA   2???               M                 goto    loop_
04AB                      M end_
04AB   2???           01137                 call            StarPressed
04AC   2???           01138                 goto            InvalidPatternStart
                      01139 
04AD                  01140 GoodPattern
04AD   182D           01141                 btfsc           Pattern_Counter,0               ;Check if on pattern 1 or 3
04AE   2???           01142                 call            UpdatePattern1
04AF   1C2D           01143                 btfss           Pattern_Counter,0               ;Check if possibly on pattern 2
04B0   2???           01144                 call            UpdatePattern2
04B1   00AC           01145                 movwf           Pattern_Number_Current
04B2   2???           01146         call            KPHexToChar                     ;Convert keypad value to LCD character  (value i
                            s still held in W)
04B3   2???           01147                 call            WR_DATA
04B4   1886           01148         btfsc           PORTB,1                                 ;Wait until key is released
04B5   2???           01149         goto            $-1                                             
04B6   1C86           01150                 btfss           PORTB,1                                 ;Check if '*' is pressed
04B7   2???           01151                 goto            $-1
04B8   1E06           01152                 btfss           PORTB,4
04B9   2???           01153                 goto            PatternWaiting
04BA   1E86           01154                 btfss           PORTB,5
04BB   2???           01155                 goto            PatternWaiting
04BC   1B06           01156                 btfsc           PORTB,6
04BD   2???           01157                 goto            PatternWaiting
04BE   1886           01158                 btfsc           PORTB,1                 ;Wait until key is released
04BF   2???           01159         goto            $-1
                      01160 
                      01161 ;******************************************************************
                      01162 ; Checks to see if 
                      01163 ; # of patterns have been entered
                      01164 ;******************************************************************
04C0                  01165 CheckDone
04C0   0828           01166                 movf            Number_of_boxes,W               ;move # of boxes to working register
04C1   022D           01167                 subwf           Pattern_Counter,W       
04C2   1C03           01168                 btfss           STATUS,C
04C3   2???           01169                 goto            EnterPattern
04C4   2???           01170                 call            FinalMessages
04C5   2???           01171                 call            AnytoStart
04C6   0008           01172                 return
                      01173 
                      01174 ;*******************************************
                      01175 ; Displays the patterns the user has entered
                      01176 ;*******************************************
04C7                  01177 FinalMessages
04C7   2???           01178         call            ClrLCD
                      01179                 Display         PatternsEntered
  0000                    M                 local   loop_
  0000                    M                 local   end_
04C8   01A2               M                 clrf    Table_Counter   
04C9   0103               M                 clrw    
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M         
04CA   0822               M loop_   movf    Table_Counter,W
04CB   2???               M                 call    PatternsEntered
04CC   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
04CD   1903               M                 btfsc   STATUS,Z
04CE   2???               M                 goto    end_
04CF   2???               M                 call    WR_DATA
04D0   0AA2               M                 incf    Table_Counter,F
04D1   2???               M                 goto    loop_
04D2                      M end_
04D2   0829           01180                 movf            Pattern_Number_1,W
04D3   2???           01181                 call            KPHexToChar                             ;Display up to nine.
04D4   2???           01182                 call            WR_DATA
04D5   302C           01183                 movlw           ","
04D6   2???           01184                 call            WR_DATA                                         ;insert comma
04D7   082A           01185                 movf            Pattern_Number_2,W
04D8   2???           01186                 call            KPHexToChar                             ;Display up to nine.
04D9   2???           01187                 call            WR_DATA
04DA   302C           01188                 movlw           ","
04DB   2???           01189                 call            WR_DATA                                         ;insert comma
04DC   082B           01190                 movf            Pattern_Number_3,W
04DD   2???           01191                 call            KPHexToChar                                     ;Display up to nine.
04DE   2???           01192                 call            WR_DATA
04DF   0008           01193                 return
                      01194 
04E0                  01195 AnytoStart
04E0   2???           01196                 call            Switch_Lines
                      01197                 Display         Start_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
04E1   01A2               M                 clrf    Table_Counter   
04E2   0103               M                 clrw    
                          M         
04E3   0822               M loop_   movf    Table_Counter,W
04E4   2???               M                 call    Start_Msg
04E5   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
04E6   1903               M                 btfsc   STATUS,Z
04E7   2???               M                 goto    end_
04E8   2???               M                 call    WR_DATA
04E9   0AA2               M                 incf    Table_Counter,F
04EA   2???               M                 goto    loop_
04EB                      M end_
04EB   1C86           01198             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
04EC   2???           01199         goto            $-1 
04ED                  01200 SaveTimeStarted
                      01201                 rtc_read        0x00            ;Read Address 0x01 from DS1307---sec
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04ED   3000               M         movlw   0x00
04EE   1283 1303          M         banksel 0x73
04F0   00F3               M         movwf   0x73
04F1   2???               M         call    read_rtc
04F2   1283 1303          M         banksel 0x75
04F4   0875               M         movf    0x75,w
04F5   2???               M         call    rtc_convert   
04F6   0877           01202                 movfw           0x77
04F7   00BF           01203                 movwf           TensSecondsStarted
04F8   0878           01204                 movfw           0x78    
04F9   00C0           01205                 movwf           OnesSecondsStarted
                      01206                 rtc_read        0x01            ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
04FA   3001               M         movlw   0x01
04FB   1283 1303          M         banksel 0x73
04FD   00F3               M         movwf   0x73
04FE   2???               M         call    read_rtc
04FF   1283 1303          M         banksel 0x75
0501   0875               M         movf    0x75,w
0502   2???               M         call    rtc_convert   
0503   0877           01207                 movfw           0x77
0504   00BD           01208                 movwf           TensMinutesStarted
0505   0878           01209                 movfw           0x78    
0506   00BE           01210                 movwf           OnesMinutesStarted
                      01211                 rtc_read        0x02            ;Read Address 0x01 from DS1307---hrs
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0507   3002               M         movlw   0x02
0508   1283 1303          M         banksel 0x73
050A   00F3               M         movwf   0x73
050B   2???               M         call    read_rtc
050C   1283 1303          M         banksel 0x75
050E   0875               M         movf    0x75,w
050F   2???               M         call    rtc_convert   
0510   0877           01212                 movfw           0x77
0511   00BB           01213                 movwf           TensHoursStarted
0512   0878           01214                 movfw           0x78    
0513   00BC           01215                 movwf           OnesHoursStarted
0514   01AD           01216                 clrf            Pattern_Counter         ;Clear the pattern counter for autonomous part
                      01217 ;Enabletimer0
                      01218 ;               bcf STATUS,RP0 ; select bank 0
                      01219 ;               bsf INTCON,7 ;global interrupts enabled
                      01220 ;               bcf INTCON,1 ;clear the interrput flag
                      01221 ;               bsf STATUS,RP0
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01222 ;               bsf OPTION_REG, INTEDG ;set it so that the interrput only occurs on the positive edge
                      01223 ;               bcf OPTION_REG,T0CS ;set internal clock source
                      01224 ;               bcf OPTION_REG,T0SE ;read on low to high edges
                      01225 ;               bcf OPTION_REG,PSA ;use prescaler
                      01226 ;               bsf OPTION_REG,PS0
                      01227 ;               bsf OPTION_REG,PS1 ;use a prescaler of 256
                      01228 ;               bsf OPTION_REG,PS2
                      01229 ;               bcf STATUS,RP0
0515   0008           01230                 return
                      01231 
                      01232 ;*************************************************************************************
                      01233 ; End message - Input:-, Output:-
                      01234 ;*************************************************************************************
0516                  01235 DoneAutonomous
0516   2???           01236                 call            ClrLCD
0517   3044           01237                 movlw           "D"
0518   2???           01238                 call            WR_DATA
0519   306F           01239                 movlw           "o"
051A   2???           01240                 call            WR_DATA
051B   306E           01241                 movlw           "n"
051C   2???           01242                 call            WR_DATA
051D   3065           01243                 movlw           "e"
051E   2???           01244                 call            WR_DATA
                      01245                 ;call           SaveOperationNumber
051F                  01246 SaveEndTimes
                      01247                 rtc_read        0x00            ;Read Address 0x01 from DS1307---sec
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
051F   3000               M         movlw   0x00
0520   1283 1303          M         banksel 0x73
0522   00F3               M         movwf   0x73
0523   2???               M         call    read_rtc
0524   1283 1303          M         banksel 0x75
0526   0875               M         movf    0x75,w
0527   2???               M         call    rtc_convert   
0528   0877           01248                 movfw           0x77
0529   00C5           01249                 movwf           TensSecondsFinished
052A   0878           01250                 movfw           0x78    
052B   00C6           01251                 movwf           OnesSecondsFinished
                      01252                 rtc_read        0x01            ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
052C   3001               M         movlw   0x01
052D   1283 1303          M         banksel 0x73
052F   00F3               M         movwf   0x73
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0530   2???               M         call    read_rtc
0531   1283 1303          M         banksel 0x75
0533   0875               M         movf    0x75,w
0534   2???               M         call    rtc_convert   
0535   0877           01253                 movfw           0x77
0536   00C3           01254                 movwf           TensMinutesFinished
0537   0878           01255                 movfw           0x78    
0538   00C4           01256                 movwf           OnesMinutesFinished
                      01257                 rtc_read        0x02            ;Read Address 0x01 from DS1307---hrs
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0539   3002               M         movlw   0x02
053A   1283 1303          M         banksel 0x73
053C   00F3               M         movwf   0x73
053D   2???               M         call    read_rtc
053E   1283 1303          M         banksel 0x75
0540   0875               M         movf    0x75,w
0541   2???               M         call    rtc_convert   
0542   0877           01258                 movfw           0x77
0543   00C1           01259                 movwf           TensHoursFinished
0544   0878           01260                 movfw           0x78    
0545   00C2           01261                 movwf           OnesHoursFinished
0546   2???           01262                 call            Switch_Lines
                      01263                 Display         Cont_Msg
  0000                    M                 local   loop_
  0000                    M                 local   end_
0547   01A2               M                 clrf    Table_Counter   
0548   0103               M                 clrw    
                          M         
0549   0822               M loop_   movf    Table_Counter,W
054A   2???               M                 call    Cont_Msg
054B   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
054C   1903               M                 btfsc   STATUS,Z
054D   2???               M                 goto    end_
054E   2???               M                 call    WR_DATA
054F   0AA2               M                 incf    Table_Counter,F
0550   2???               M                 goto    loop_
0551                      M end_
0551   2???           01264                 call            StarPressed
                      01265 
0552                  01266 Standby
0552   2???           01267                 call            ClrLCD
                      01268 
                      01269                 ;Get year
0553   3032           01270                 movlw   "2"                             ;First line shows 20**/**/**
0554   2???           01271                 call    WR_DATA
0555   3030           01272                 movlw   "0"
0556   2???           01273                 call    WR_DATA
                      01274                 rtc_read        0x06            ;Read Address 0x06 from DS1307---year
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0557   3006               M         movlw   0x06
0558   1283 1303          M         banksel 0x73
055A   00F3               M         movwf   0x73
055B   2???               M         call    read_rtc
055C   1283 1303          M         banksel 0x75
055E   0875               M         movf    0x75,w
055F   2???               M         call    rtc_convert   
0560   0877           01275                 movfw   0x77
0561   2???           01276                 call    WR_DATA
0562   0878           01277                 movfw   0x78
0563   2???           01278                 call    WR_DATA
                      01279 
0564   302F           01280                 movlw   "/"
0565   2???           01281                 call    WR_DATA
                      01282 
                      01283                 ;Get month
                      01284                 rtc_read        0x05            ;Read Address 0x05 from DS1307---month
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0566   3005               M         movlw   0x05
0567   1283 1303          M         banksel 0x73
0569   00F3               M         movwf   0x73
056A   2???               M         call    read_rtc
056B   1283 1303          M         banksel 0x75
056D   0875               M         movf    0x75,w
056E   2???               M         call    rtc_convert   
056F   0877           01285                 movfw   0x77
0570   00B7           01286                 movwf   TensMonth
0571   2???           01287                 call    WR_DATA
0572   0878           01288                 movfw   0x78
0573   00B8           01289                 movwf   OnesMonth
0574   2???           01290                 call    WR_DATA
                      01291 
0575   302F           01292                 movlw   "/"
0576   2???           01293                 call    WR_DATA
                      01294 
                      01295                 ;Get day
                      01296                 rtc_read        0x04            ;Read Address 0x04 from DS1307---day
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;                       0x77 and the ones digit is placed in 0x78
0577   3004               M         movlw   0x04
0578   1283 1303          M         banksel 0x73
057A   00F3               M         movwf   0x73
057B   2???               M         call    read_rtc
057C   1283 1303          M         banksel 0x75
057E   0875               M         movf    0x75,w
057F   2???               M         call    rtc_convert   
0580   0877           01297                 movfw   0x77
0581   00B9           01298                 movwf   TensDay
0582   2???           01299                 call    WR_DATA
0583   0878           01300                 movfw   0x78
0584   00BA           01301                 movwf   OnesDay
0585   2???           01302                 call    WR_DATA
0586   30C0           01303                 movlw   B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
0587   2???           01304                 call    WR_INS
                      01305 
0588   0841           01306                 movfw           TensHoursFinished
0589   2???           01307                 call            writenumber
058A   0842           01308                 movfw           OnesHoursFinished
058B   2???           01309                 call            writenumber
058C   303A           01310                 movlw           ":"
058D   2???           01311                 call            WR_DATA
058E   0843           01312                 movfw           TensMinutesFinished
058F   2???           01313                 call            writenumber
0590   0844           01314                 movfw           OnesMinutesFinished
0591   2???           01315                 call            writenumber
0592   303A           01316                 movlw           ":"
0593   2???           01317                 call            WR_DATA
0594   0845           01318                 movfw           TensSecondsFinished
0595   2???           01319                 call            writenumber
0596   0846           01320                 movfw           OnesSecondsFinished
0597   2???           01321                 call            writenumber
                      01322                 Display         Press_Star
  0000                    M                 local   loop_
  0000                    M                 local   end_
0598   01A2               M                 clrf    Table_Counter   
0599   0103               M                 clrw    
                          M         
059A   0822               M loop_   movf    Table_Counter,W
059B   2???               M                 call    Press_Star
059C   3A00               M                 xorlw   B'00000000' ;check WORK reg to see if 0 is returned
059D   1903               M                 btfsc   STATUS,Z
059E   2???               M                 goto    end_
059F   2???               M                 call    WR_DATA
05A0   0AA2               M                 incf    Table_Counter,F
05A1   2???               M                 goto    loop_
05A2                      M end_
05A2                  01323 SaveTopEEPROM                                                   ;Save the patterns into EEPROM,and time 
                            elapsed
                      01324                                                                                                 ;Save th
                            e patterns into EEPROM
                      01325 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01326 ;RetrieveAddressCounter
05A2   30FF           01327                 movlw           0xFF                            ;Get the ending Address of last operatio
                            n
05A3   1283           01328                 bcf             STATUS,RP0
05A4   1703           01329                 bsf             STATUS,RP1 ;Selects Bank 2
                      01330 ;Address Defined by moving Read_Address_Counter into working register
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
05A5   008D           01331                 movwf           EEADR
05A6   1683           01332                 bsf             STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
05A7   138C           01333                 bcf             EECON1,EEPGD ;point to data memory
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
05A8   140C           01334                 bsf             EECON1,RD ; Starts reading operation
05A9   1283           01335                 bcf             STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
05AA   080C           01336                 movfw           EEDATA
05AB   1303           01337                 bcf             STATUS,RP1 ; Selects Bank 0
05AC   00D0           01338                 movwf           Address_Counter         ;Put into address counter
                      01339                 
                      01340 ;               
05AD   2???           01341                 call    WriteEEPROMTop
05AE   0829           01342                 movfw   Pattern_Number_1
05AF   00D2           01343                 movwf   Memory_Temp
05B0   2???           01344                 call    WriteEEPROMBottom
                      01345 
05B1   0AD0           01346                 incf    Address_Counter,F
05B2   2???           01347                 call    WriteEEPROMTop
05B3   082A           01348                 movfw   Pattern_Number_2
05B4   00D2           01349                 movwf   Memory_Temp
05B5   2???           01350                 call    WriteEEPROMBottom
                      01351 
05B6   0AD0           01352                 incf    Address_Counter,F
05B7   2???           01353                 call    WriteEEPROMTop
05B8   082B           01354                 movfw   Pattern_Number_3
05B9   00D2           01355                 movwf   Memory_Temp
05BA   2???           01356                 call    WriteEEPROMBottom
                      01357 
05BB   0AD0           01358                 incf    Address_Counter,F                               ;Save Date Finished
05BC   2???           01359                 call    WriteEEPROMTop
05BD   0837           01360                 movfw   TensMonth
05BE   00D2           01361                 movwf   Memory_Temp
05BF   2???           01362                 call    WriteEEPROMBottom
                      01363 
05C0   0AD0           01364                 incf    Address_Counter,F
05C1   2???           01365                 call    WriteEEPROMTop
05C2   0838           01366                 movfw   OnesMonth
05C3   00D2           01367                 movwf   Memory_Temp
05C4   2???           01368                 call    WriteEEPROMBottom
                      01369 
05C5   0AD0           01370                 incf    Address_Counter,F
05C6   2???           01371                 call    WriteEEPROMTop
05C7   0839           01372                 movfw   TensDay
05C8   00D2           01373                 movwf   Memory_Temp
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05C9   2???           01374                 call    WriteEEPROMBottom
                      01375 
05CA   0AD0           01376                 incf    Address_Counter,F
05CB   2???           01377                 call    WriteEEPROMTop
05CC   083A           01378                 movfw   OnesDay
05CD   00D2           01379                 movwf   Memory_Temp
05CE   2???           01380                 call    WriteEEPROMBottom
                      01381 
05CF   0AD0           01382                 incf    Address_Counter,F                               ;Save Date Finished
05D0   2???           01383                 call    WriteEEPROMTop
05D1   0841           01384                 movfw   TensHoursFinished
05D2   00D2           01385                 movwf   Memory_Temp
05D3   2???           01386                 call    WriteEEPROMBottom
                      01387 
05D4   0AD0           01388                 incf    Address_Counter,F
05D5   2???           01389                 call    WriteEEPROMTop
05D6   0842           01390                 movfw   OnesHoursFinished
05D7   00D2           01391                 movwf   Memory_Temp
05D8   2???           01392                 call    WriteEEPROMBottom
                      01393 
05D9   0AD0           01394                 incf    Address_Counter,F
05DA   2???           01395                 call    WriteEEPROMTop
05DB   0843           01396                 movfw   TensMinutesFinished
05DC   00D2           01397                 movwf   Memory_Temp
05DD   2???           01398                 call    WriteEEPROMBottom
                      01399 
05DE   0AD0           01400                 incf    Address_Counter,F
05DF   2???           01401                 call    WriteEEPROMTop
05E0   0844           01402                 movfw   OnesMinutesFinished
05E1   00D2           01403                 movwf   Memory_Temp
05E2   2???           01404                 call    WriteEEPROMBottom
                      01405 
05E3   0AD0           01406                 incf    Address_Counter,F
05E4   2???           01407                 call    WriteEEPROMTop
05E5   0845           01408                 movfw   TensSecondsFinished
05E6   00D2           01409                 movwf   Memory_Temp
05E7   2???           01410                 call    WriteEEPROMBottom
                      01411 
05E8   0AD0           01412                 incf    Address_Counter,F
05E9   2???           01413                 call    WriteEEPROMTop
05EA   0846           01414                 movfw   OnesSecondsFinished
05EB   00D2           01415                 movwf   Memory_Temp
05EC   2???           01416                 call    WriteEEPROMBottom
                      01417 
05ED                  01418 OnesSecSub
05ED   0840           01419                 movfw           OnesSecondsStarted
05EE   0246           01420                 subwf           OnesSecondsFinished,W
05EF   1C03           01421                 btfss           STATUS,C
05F0   2???           01422                 goto            onessecnegative
05F1   00C8           01423                 movwf           OSE
                      01424 
05F2                  01425 TensSecSub
05F2   083F           01426                 movfw           TensSecondsStarted
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05F3   0245           01427                 subwf           TensSecondsFinished,W
05F4   1C03           01428                 btfss           STATUS,C
05F5   2???           01429                 goto            TensSecnegative
05F6   00C9           01430                 movwf           TSE
                      01431 
05F7                  01432 OnesMinSub
05F7   083E           01433                 movfw           OnesMinutesStarted
05F8   0244           01434                 subwf           OnesMinutesFinished,W
05F9   1C03           01435                 btfss           STATUS,C
05FA   2???           01436                 goto            OnesMinnegative
05FB   00CA           01437                 movwf           OME
                      01438 
05FC                  01439 TensMinSub
05FC   083D           01440                 movfw           TensMinutesStarted
05FD   0243           01441                 subwf           TensMinutesFinished,W
05FE   1C03           01442                 btfss           STATUS,C
05FF   2???           01443                 goto            TensMinnegative
0600   00CB           01444                 movwf           TME
                      01445 
0601                  01446 OnesHrsSub
0601   083C           01447                 movfw           OnesHoursStarted
0602   0242           01448                 subwf           OnesHoursFinished,W
0603   1C03           01449                 btfss           STATUS,C
0604   2???           01450                 goto            OnesHrsnegative
0605   00CC           01451                 movwf           OHE
                      01452 
0606                  01453 TensHrsSub
0606   083B           01454                 movfw           TensHoursStarted                                ;No way it can be negati
                            ve unless 24
0607   0241           01455                 subwf           TensHoursFinished,W
0608   1C03           01456                 btfss           STATUS,C
0609   2???           01457                 goto            TensHrsnegative
060A   00CD           01458                 movwf           THE
060B   2???           01459                 goto            endsubtract
                      01460 
060C                  01461 TensHrsnegative
060C   3018           01462                 movlw           d'24'
060D   07C1           01463                 addwf           TensHoursFinished,F
060E   2???           01464                 goto            TensHrsSub
                      01465         
060F                  01466 OnesHrsnegative
060F   03C1           01467                 decf            TensHoursFinished,F
0610   300A           01468                 movlw           d'10'
0611   07C2           01469                 addwf           OnesHoursFinished,F
0612   2???           01470                 goto            OnesHrsSub      
                      01471 
0613                  01472 TensMinnegative
0613   03C2           01473                 decf            OnesHoursFinished,F
0614   3006           01474                 movlw           d'6'
0615   07C3           01475                 addwf           TensMinutesFinished,F
0616   2???           01476                 goto            TensMinSub      
                      01477 
0617                  01478 OnesMinnegative
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0617   03C3           01479                 decf            TensMinutesFinished,F
0618   300A           01480                 movlw           d'10'
0619   07C4           01481                 addwf           OnesMinutesFinished,F
061A   2???           01482                 goto            OnesMinSub      
                      01483 
061B                  01484 TensSecnegative
061B   03C4           01485                 decf            OnesMinutesFinished,F
061C   3006           01486                 movlw           d'6'
061D   07C5           01487                 addwf           TensSecondsFinished,F
061E   2???           01488                 goto            TensSecSub
                      01489 
061F                  01490 onessecnegative
061F   03C5           01491                 decf            TensSecondsFinished,F
0620   300A           01492                 movlw           d'10'
0621   07C6           01493                 addwf           OnesSecondsFinished,F
0622   2???           01494                 goto            OnesSecSub
                      01495 
0623                  01496 endsubtract     
                      01497 
0623                  01498 SaveBottomEEPROM
0623   0AD0           01499                 incf    Address_Counter,F                               ;Save Time elapsed
0624   2???           01500                 call    WriteEEPROMTop
0625   0849           01501                 movfw   TSE
0626   00D2           01502                 movwf   Memory_Temp
0627   2???           01503                 call    WriteEEPROMBottom
                      01504 
0628   0AD0           01505                 incf    Address_Counter,F
0629   2???           01506                 call    WriteEEPROMTop
062A   0848           01507                 movfw   OSE
062B   00D2           01508                 movwf   Memory_Temp
062C   2???           01509                 call    WriteEEPROMBottom
                      01510 
062D   0AD0           01511                 incf    Address_Counter,F                               ;Save Balls Left
062E   2???           01512                 call    WriteEEPROMTop
062F   084E           01513                 movfw   WhiteBalls
0630   00D2           01514                 movwf   Memory_Temp
0631   2???           01515                 call    WriteEEPROMBottom
                      01516 
0632   0AD0           01517                 incf    Address_Counter,F
0633   2???           01518                 call    WriteEEPROMTop
0634   084F           01519                 movfw   OrangeBalls
0635   00D2           01520                 movwf   Memory_Temp
0636   2???           01521                 call    WriteEEPROMBottom
0637   0AD0           01522                 incf    Address_Counter,F
                      01523 
0638   0103           01524                 clrw                                                                            ;ensure 
                            both are cleared
0639   0850           01525                 movf            Address_Counter,W                               
063A   3CFF           01526                 sublw           0xFF                                                    ;subtract addres
                            s counter from 247  (13x19 + 1 to account for 0) 
063B   1903           01527                 btfsc           STATUS,Z                                                ;zero bit to see
                             if 0
063C   01D0           01528                 clrf            Address_Counter
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01529 
                      01530 
063D   2???           01531                 call    SaveAddressCounter
063E   2???           01532                 call            StarPressed
063F   0008           01533                 return
                      01534 
0640                  01535 SaveAddressCounter                                              ;Save the addressCounter to always know 
                            where to go
0640   30FF           01536                 movlw           0xFF
0641   1283           01537                 bcf                     STATUS,RP0
0642   1703           01538                 bsf                     STATUS,RP1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0643   008D           01539                 movwf           EEADR
0644   1303           01540                 bcf                     STATUS,RP1                      ;switch banks to get data
0645   0850           01541                 movfw           Address_Counter
0646   1703           01542                 bsf                     STATUS,RP1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0647   008C           01543                 movwf           EEDATA
0648   1683           01544                 bsf                     STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0649   138C           01545                 bcf                     EECON1,EEPGD
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
064A   150C           01546                 bsf                     EECON1,WREN
064B   3055           01547                 movlw           0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
064C   008D           01548                 movwf           EECON2
064D   30AA           01549                 movlw           0xaa
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
064E   008D           01550                 movwf           EECON2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
064F   148C           01551                 bsf                     EECON1,WR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0650   188C           01552                 btfsc           EECON1,WR
0651   2???           01553                 goto            $-1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0652   110C           01554                 bcf             EECON1, WREN
0653   1283           01555                 bcf                     STATUS,RP0
0654   1303           01556                 bcf                     STATUS,RP1              
0655   120D           01557                 bcf                     PIR2,EEIF
0656   0008           01558                 return
                      01559 
                      01560 
0657                  01561 WriteEEPROMTop
0657   0850           01562                 movfw           Address_Counter
0658   1283           01563                 bcf                     STATUS,RP0
0659   1703           01564                 bsf                     STATUS,RP1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
065A   008D           01565                 movwf           EEADR
065B   1303           01566                 bcf                     STATUS,RP1                      ;switch banks to get data
065C   0008           01567                 return
                      01568 
065D                  01569 WriteEEPROMBottom
065D   0852           01570                 movfw           Memory_Temp
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

065E   1703           01571                 bsf                     STATUS,RP1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
065F   008C           01572                 movwf           EEDATA
0660   1683           01573                 bsf                     STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0661   138C           01574                 bcf                     EECON1,EEPGD
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0662   150C           01575                 bsf                     EECON1,WREN
0663   3055           01576                 movlw           0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0664   008D           01577                 movwf           EECON2
0665   30AA           01578                 movlw           0xaa
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0666   008D           01579                 movwf           EECON2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0667   148C           01580                 bsf                     EECON1,WR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0668   188C           01581                 btfsc           EECON1,WR
0669   2???           01582                 goto            $-1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
066A   110C           01583                 bcf             EECON1, WREN
066B   1283           01584                 bcf                     STATUS,RP0
066C   1303           01585                 bcf                     STATUS,RP1              
066D   120D           01586                 bcf                     PIR2,EEIF
066E   0008           01587                 return
                      01588 
066F                  01589 writenumber
066F   390F           01590                 andlw           0x0F
0670   2???           01591                 call            OneToNine
0671   2???           01592                 call            WR_DATA
0672   0008           01593                 return  
                      01594 
0673                  01595 UpdatePattern1
0673   18AD           01596                 btfsc           Pattern_Counter,1       ;See if its pattern 3
0674   2???           01597                 goto            UpdatePattern3
0675   00A9           01598                 movwf           Pattern_Number_1        ;Save pattern 1
0676   0008           01599                 return
                      01600 
0677                  01601 UpdatePattern2
0677   1CAD           01602                 btfss           Pattern_Counter,1       ;Confirm pattern 2
0678   0008           01603                 return                                                  ;return if not
0679   00AA           01604                 movwf           Pattern_Number_2        ;Save pattern 2
067A   0008           01605                 return
                      01606 
067B                  01607 UpdatePattern3
067B   00AB           01608                 movwf           Pattern_Number_3        ;Save pattern 3
067C   0008           01609                 return
                      01610 
067D                  01611 ButtonReleased
067D   1886           01612             btfsc               PORTB,1                         ;Wait until released
067E   2???           01613         goto            $-1 
067F   0008           01614                 return
                      01615 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01616 
                      01617 ;******* LCD-related subroutines *******
0680                  01618 lcdLongDelay
0680   3014           01619     movlw d'20'
0681   00A5           01620     movwf lcd_d2
0682                  01621 LLD_LOOP
Warning[207]: Found label after column 1. (LCD_DELAY)
0682                  01622     LCD_DELAY
0682   0BA5           01623     decfsz lcd_d2,f
0683   2???           01624     goto LLD_LOOP
0684   0008           01625     return
                      01626 
                      01627                 ORG 0x0800              ;Page 1.  See if this helps
                      01628 ;********************************************************************
                      01629 ; Loads one box of balls completely as specified by current pattern #
                      01630 ;********************************************************************
0800                  01631 Loading
0800   2???           01632                 call            LoadPatternNumber
0801   2???           01633                 call            LoadPattern     
0802   2???           01634                 call            LoadBox
                      01635 
                      01636 ;*************************************************************************************
                      01637 ; Loads the numerical pattern # - Input:Pattern_Counter, Output:Pattern_Number_Current
                      01638 ;*************************************************************************************
0803                  01639 LoadPatternNumber       
0803   18AD           01640                 btfsc           Pattern_Counter,1               ;Load the proper pattern
0804   2???           01641                 goto            LoadPatternNumber3              ;Remember pattern1 = 0, pattern2 = 1, pa
                            ttern3 = 2 due to keypad setup
0805   1C2D           01642                 btfss           Pattern_Counter,0               
0806   2???           01643                 goto            LoadPatternNumber1
0807   2???           01644                 goto            LoadPatternNumber2
                      01645 
0808                  01646 LoadPatternNumber1
0808   0829           01647                 movf            Pattern_Number_1,W
0809   00AC           01648                 movwf           Pattern_Number_Current
080A   0008           01649                 return
                      01650 
080B                  01651 LoadPatternNumber2
080B   082A           01652                 movf            Pattern_Number_2,W
080C   00AC           01653                 movwf           Pattern_Number_Current
080D   0008           01654                 return
                      01655 
080E                  01656 LoadPatternNumber3
080E   082B           01657                 movf            Pattern_Number_3,W
080F   00AC           01658                 movwf           Pattern_Number_Current
0810   0008           01659                 return
                      01660 
                      01661 ;********************************************************
                      01662 ; Displays pattern # being outputted (FOR DEBUGGING ONLY) 
                      01663 ;********************************************************
0811                  01664 LoadPattern
0811   1D2C           01665                 btfss           Pattern_Number_Current,2                ;Check if low pattern or high pa
                            ttern
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0812   2???           01666                 goto            LowPattern
0813   2???           01667                 goto            HighPattern
                      01668 
                      01669 ;*************************************************************************************
                      01670 ; Load the proper pattern shape - Input:Pattern_Number_Current, Output:Pattern_Current
                      01671 ;*************************************************************************************
0814                  01672 LowPattern
0814   18AC           01673                 btfsc           Pattern_Number_Current,1                ;Check if 3 should be loaded
0815   2???           01674                 goto            LoadPattern3
0816   182C           01675                 btfsc           Pattern_Number_Current,0
0817   2???           01676                 goto            LoadPattern2
0818   2???           01677                 goto            LoadPattern1
                      01678 
0819                  01679 LoadPattern3
0819   0830           01680                 movfw           Third_Pattern                   ;Put third shape into current shape
081A   00B4           01681                 movwf           Pattern_Current
081B   2???           01682                 goto            DoneLoadingPattern
                      01683 
081C                  01684 LoadPattern2
081C   082F           01685                 movfw           Second_Pattern                  ;Put third shape into current shape
081D   00B4           01686                 movwf           Pattern_Current
081E   2???           01687                 goto            DoneLoadingPattern
                      01688 
081F                  01689 LoadPattern1
081F   082E           01690                 movfw           First_Pattern                   ;Put third shape into current shape
0820   00B4           01691                 movwf           Pattern_Current
0821   2???           01692                 goto            DoneLoadingPattern
                      01693         
0822                  01694 HighPattern
0822   18AC           01695                 btfsc           Pattern_Number_Current,1                ;Check if 6 should be loaded
0823   2???           01696                 goto            LoadPattern6
0824   182C           01697                 btfsc           Pattern_Number_Current,0
0825   2???           01698                 goto            LoadPattern5
0826   2???           01699                 goto            LoadPattern4
                      01700 
0827                  01701 LoadPattern6
0827   0833           01702                 movf            Sixth_Pattern,W                 ;Put third shape into current shape
0828   00B4           01703                 movwf           Pattern_Current
0829   2???           01704                 goto            DoneLoadingPattern
                      01705 
082A                  01706 LoadPattern5
082A   0832           01707                 movf            Fifth_Pattern,W                 ;Put third shape into current shape
082B   00B4           01708                 movwf           Pattern_Current
082C   2???           01709                 goto            DoneLoadingPattern
                      01710 
082D                  01711 LoadPattern4
082D   0831           01712                 movf            Fourth_Pattern,W                        ;Put third shape into current sh
                            ape
082E   00B4           01713                 movwf           Pattern_Current
082F   2???           01714                 goto            DoneLoadingPattern
                      01715 
0830                  01716 DoneLoadingPattern
0830   0008           01717                 return
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01718 
                      01719 ;Could be looped later
                      01720 ;***************************************************
                      01721 ; Dispense 6 balls - Input:Pattern_Current, Output:-
                      01722 ;***************************************************
0831                  01723 LoadBox
0831   3006           01724                 movlw           D'6'
0832   00B6           01725                 movwf           Box_Counter
                      01726 
0833                  01727 LoadBoxLoop
0833   03B6           01728                 decf            Box_Counter,F                                   ;Decrement counter
0834   2???           01729                 call            DispenseBall                                    ;Dispense a ball of appr
                            opriate colour
0835   0DB4           01730                 rlf                     Pattern_Current,F
0836   2???           01731                 call            CC_60                                   ;Rotate to next slot            
                                    
0837   1936           01732                 btfsc           Box_Counter,2                                   ;Check if done
0838   2???           01733                 goto            LoadBoxLoop                             
0839   18B6           01734                 btfsc           Box_Counter,1
083A   2???           01735                 goto            LoadBoxLoop
083B   1836           01736                 btfsc           Box_Counter,0
083C   2???           01737                 goto            LoadBoxLoop
083D   2???           01738                 call            zeropointone                                    ;wait for last ball
083E   1007           01739                 bcf                     PORTC,0
083F   182D           01740                 btfsc           Pattern_Counter,0                               ;Check if on first box
0840   2???           01741                 goto            NotFirstBox
0841   18AD           01742                 btfsc           Pattern_Counter,1
0842   2???           01743                 goto            NotFirstBox
0843   2???           01744                 call            MoveFirstBox
0844                  01745 DoneMoving
Message[305]: Using default destination of 1 (file).
0844   0AAD           01746                 incf            Pattern_Counter
0845   0828           01747                 movf            Number_of_boxes,W                               ;check if loaded enough 
                            boxes
0846   022D           01748                 subwf           Pattern_Counter,W       
0847   1C03           01749                 btfss           STATUS,C
0848   2???           01750                 goto            Loading
0849   0008           01751                 return
                      01752 
084A                  01753 NotFirstBox
084A   2???           01754                 call            MoveBox
084B   2???           01755                 goto            DoneMoving
                      01756 
084C                  01757 MoveFirstBox
084C   1405           01758                 bsf                     PORTA,0                                 ;Start Motor
084D   2???           01759                 call            QS                              ; Pulse width modulation
084E   2???           01760                 call            QS                              ;added this and the 0.01
084F   2???           01761                 call            QS
                      01762                 ;call           point01
0850   1005           01763                 bcf                     PORTA,0
0851   2???           01764                 call            zeropointone
0852   2???           01765                 call            point06
0853   2???           01766                 call            point01
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0854   1C07           01767                 btfss           PORTC,0
0855   2???           01768                 goto            MoveFirstBox
0856   0008           01769                 return
                      01770 
                      01771 ;***********************************************************************
                      01772 ; Moves the loaded box - Input:Pattern_Counter, Output:Pattern_Counter++
                      01773 ;***********************************************************************
0857                  01774 MoveBox
0857   1007           01775                 bcf                     PORTC,0                                 ;make sure this is clear
                            ed
0858   1405           01776                 bsf                     PORTA,0                                 ;Start Motor
                      01777 ;               call            zeropointone
                      01778 ;               call            zeropointone
                      01779 ;               call            zeropointone
                      01780 ;               call            zeropointone
                      01781 ;               call            zeropointone
                      01782 ;               call            zeropointone
0859   2???           01783                 call            HalfS                                   ;0.6 seconds works!!
                      01784                 ;call           HalfS                                   ;put in an extra half S for boas
                            t
                      01785                 ;call           HalfS
                      01786                 ;call           HalfS
                      01787                 ;call           zeropointone
085A   1005           01788                 bcf                     PORTA,0
085B                  01789 MoveBoxSlow
085B   1405           01790                 bsf                     PORTA,0                                 ;Start Motor
085C   2???           01791                 call            QS                              ; Pulse width modulation
085D   2???           01792                 call            point06
085E   2???           01793                 call            point06
085F   2???           01794                 call            zeropointone;           call            zeropointone            ;put thi
                            s in
0860   1005           01795                 bcf                     PORTA,0
0861   2???           01796                 call            QS                      ;point06 works!!
0862   2???           01797                 call            QS
0863   2???           01798                 call            QS
0864   2???           01799                 call            zeropointone            
0865   1C07           01800                 btfss           PORTC,0
0866   2???           01801                 goto            MoveBoxSlow
0867   0008           01802                 return
                      01803 
                      01804 ;*************************************************************************************
                      01805 ; Dispenses a ball - Input:Pattern_Current, Output:-
                      01806 ;*************************************************************************************
0868                  01807 DispenseBall
0868   1EB4           01808                 btfss           Pattern_Current,5                       ;Check if white or orange ball s
                            hould be dispensed
0869   2???           01809                 goto            DispenseOrange
086A   2???           01810                 goto            DispenseWhite
                      01811 
086B                  01812 DispenseOrange
086B   2???           01813                 call            SeparatorCC60                                           ;Turn 60 degrees
                             counter clockwise
086C   2???           01814                 call            SeparatorClock60
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

086D   03CF           01815                 decf            OrangeBalls,F
086E   2???           01816                 goto            DoneDispensing
                      01817 
086F                  01818 DispenseWhite
086F   2???           01819                 call            SeparatorClock60                                ;Turn 60 degrees clockwi
                            se
0870   2???           01820                 call            SeparatorCC60   
0871   03CE           01821                 decf            WhiteBalls,F
0872   2???           01822                 goto            DoneDispensing
                      01823 
                      01824 ;Replace RB0, with RA2
0873                  01825 SeparatorClock60
0873   3032           01826                 movlw           "2"
0874   00B5           01827                 movwf           Counter
0875                  01828 SeparatorClock_Rotation
Message[305]: Using default destination of 1 (file).
0875   03B5           01829                 decf            Counter
0876   1488           01830                 bsf                     PORTD,1
0877   1008           01831                 bcf                     PORTD,0
0878   1105           01832                 bcf                     PORTA,2
0879   1506           01833                 bsf                     PORTB,2
087A   2???           01834                 call            Appropriate_Delay
087B   1488           01835                 bsf                     PORTD,1
087C   1408           01836                 bsf                     PORTD,0
087D   1105           01837                 bcf                     PORTA,2
087E   1106           01838                 bcf                     PORTB,2
087F   2???           01839                 call            Appropriate_Delay
0880   1088           01840                 bcf                     PORTD,1
0881   1408           01841                 bsf                     PORTD,0
0882   1505           01842                 bsf                     PORTA,2
0883   1106           01843                 bcf                     PORTB,2
0884   2???           01844                 call            Appropriate_Delay
0885   1088           01845                 bcf                     PORTD,1
0886   1008           01846                 bcf                     PORTD,0
0887   1505           01847                 bsf                     PORTA,2
0888   1506           01848                 bsf                     PORTB,2
0889   2???           01849                 call            Appropriate_Delay
088A   1835           01850                 btfsc           Counter,0
088B   2???           01851                 goto            SeparatorClock_Rotation
088C   1488           01852                 bsf                     PORTD,1
088D   1008           01853                 bcf                     PORTD,0
088E   1105           01854                 bcf                     PORTA,2
088F   1506           01855                 bsf                     PORTB,2
0890   0008           01856                 return
                      01857 
0891                  01858 SeparatorCC60
0891   3032           01859                 movlw           "2"
0892   00B5           01860                 movwf           Counter
0893                  01861 SeparatorCC_Rotation
Message[305]: Using default destination of 1 (file).
0893   03B5           01862                 decf            Counter
0894   1488           01863                 bsf                     PORTD,1
0895   1008           01864                 bcf                     PORTD,0
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0896   1105           01865                 bcf                     PORTA,2
0897   1506           01866                 bsf                     PORTB,2
0898   2???           01867                 call            Appropriate_Delay
0899   1088           01868                 bcf                     PORTD,1
089A   1008           01869                 bcf                     PORTD,0
089B   1505           01870                 bsf                     PORTA,2
089C   1506           01871                 bsf                     PORTB,2
089D   2???           01872                 call            Appropriate_Delay
089E   1088           01873                 bcf                     PORTD,1
089F   1408           01874                 bsf                     PORTD,0
08A0   1505           01875                 bsf                     PORTA,2
08A1   1106           01876                 bcf                     PORTB,2
08A2   2???           01877                 call            Appropriate_Delay
08A3   1488           01878                 bsf                     PORTD,1
08A4   1408           01879                 bsf                     PORTD,0
08A5   1105           01880                 bcf                     PORTA,2
08A6   1106           01881                 bcf                     PORTB,2
08A7   2???           01882                 call            Appropriate_Delay
08A8   1488           01883                 bsf                     PORTD,1
08A9   1008           01884                 bcf                     PORTD,0
08AA   1105           01885                 bcf                     PORTA,2
08AB   1506           01886                 bsf                     PORTB,2
08AC   2???           01887                 call            Appropriate_Delay
08AD   1088           01888                 bcf                     PORTD,1
08AE   1008           01889                 bcf                     PORTD,0
08AF   1505           01890                 bsf                     PORTA,2
08B0   1506           01891                 bsf                     PORTB,2
08B1   2???           01892                 call            Appropriate_Delay
08B2   1088           01893                 bcf                     PORTD,1
08B3   1408           01894                 bsf                     PORTD,0
08B4   1505           01895                 bsf                     PORTA,2
08B5   1106           01896                 bcf                     PORTB,2
08B6   2???           01897                 call            Appropriate_Delay
08B7   1488           01898                 bsf                     PORTD,1
08B8   1408           01899                 bsf                     PORTD,0
08B9   1105           01900                 bcf                     PORTA,2
08BA   1106           01901                 bcf                     PORTB,2
08BB   2???           01902                 call            Appropriate_Delay
08BC   1488           01903                 bsf                     PORTD,1
08BD   1008           01904                 bcf                     PORTD,0
08BE   1105           01905                 bcf                     PORTA,2
08BF   1506           01906                 bsf                     PORTB,2
08C0   0008           01907                 return
                      01908 
08C1                  01909 CC_60
Message[305]: Using default destination of 1 (file).
08C1   03B5           01910                 decf            Counter
08C2   1687           01911                 bsf                     PORTC,5
08C3   1087           01912                 bcf                     PORTC,1
08C4   1009           01913                 bcf                     PORTE,0
08C5   1787           01914                 bsf                     PORTC,7
08C6   2???           01915                 call            Disk_Delay
08C7   1687           01916                 bsf                     PORTC,5
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08C8   1487           01917                 bsf                     PORTC,1
08C9   1009           01918                 bcf                     PORTE,0
08CA   1387           01919                 bcf                     PORTC,7
08CB   2???           01920                 call            Disk_Delay
08CC   1287           01921                 bcf                     PORTC,5
08CD   1487           01922                 bsf                     PORTC,1
08CE   1409           01923                 bsf                     PORTE,0
08CF   1387           01924                 bcf                     PORTC,7
08D0   2???           01925                 call            Disk_Delay
08D1   1287           01926                 bcf                     PORTC,5
08D2   1087           01927                 bcf                     PORTC,1
08D3   1409           01928                 bsf                     PORTE,0
08D4   1787           01929                 bsf                     PORTC,7
08D5   2???           01930                 call            Disk_Delay
08D6   1687           01931                 bsf                     PORTC,5
08D7   1087           01932                 bcf                     PORTC,1
08D8   1009           01933                 bcf                     PORTE,0
08D9   1787           01934                 bsf                     PORTC,7
08DA   2???           01935                 call            Disk_Delay
08DB   1687           01936                 bsf                     PORTC,5
08DC   1487           01937                 bsf                     PORTC,1
08DD   1009           01938                 bcf                     PORTE,0
08DE   1387           01939                 bcf                     PORTC,7
08DF   2???           01940                 call            Disk_Delay
08E0   1287           01941                 bcf                     PORTC,5
08E1   1487           01942                 bsf                     PORTC,1
08E2   1409           01943                 bsf                     PORTE,0
08E3   1387           01944                 bcf                     PORTC,7
08E4   2???           01945                 call            Disk_Delay
08E5   1287           01946                 bcf                     PORTC,5
08E6   1087           01947                 bcf                     PORTC,1
08E7   1409           01948                 bsf                     PORTE,0
08E8   1787           01949                 bsf                     PORTC,7
08E9   2???           01950                 call            Disk_Delay
08EA   1687           01951                 bsf                     PORTC,5
08EB   1087           01952                 bcf                     PORTC,1
08EC   1009           01953                 bcf                     PORTE,0
08ED   1787           01954                 bsf                     PORTC,7
08EE   0008           01955                 return
                      01956 
08EF                  01957 Appropriate_Delay
                      01958                 ;call   zeropointone                                    ;0.12s works
                      01959                 ;call   HalfS
08EF   2???           01960                 call    QS
08F0   2???           01961                 call    point06
08F1   2???           01962                 call    point01
08F2   0008           01963                 return
                      01964 
08F3                  01965 Disk_Delay
08F3   2???           01966                 call            zeropointone                            ;This works!!!
08F4   0008           01967                 return
                      01968 
08F5                  01969 DoneDispensing
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01970 ;               btfss           Box_Counter,1                   
                      01971 ;               goto            NormalDelay
                      01972 ;               btfss           Box_Counter,0                   
                      01973 ;               goto            NormalDelay
                      01974 ;               call            HalfS                                   ;extra delay at spot 3
                      01975 ;NormalDelay
08F5   2???           01976                 call            zeropointone
08F6   2???           01977                 call            zeropointone
08F7   2???           01978                 call            zeropointone
08F8   2???           01979                 call            zeropointone
08F9   2???           01980                 call            zeropointone
08FA   2???           01981                 call            zeropointone
08FB   2???           01982                 call            zeropointone
08FC   2???           01983                 call            zeropointone
08FD   2???           01984                 call            zeropointone
08FE   2???           01985                 call            zeropointone
08FF   2???           01986                 call            zeropointone
0900   0008           01987                 return
                      01988 
                      01989 
                      01990 ;***************************************
                      01991 ; Delay 0.5s
                      01992 ;***************************************
0901                  01993 HalfS   
  0000                01994         local   HalfS_0
0901   3088           01995       movlw 0x88
0902   00??           01996       movwf COUNTH
0903   30BD           01997       movlw 0xBD
0904   00??           01998       movwf COUNTM
0905   3003           01999       movlw 0x03
0906   00??           02000       movwf COUNTL
                      02001 
0907                  02002 HalfS_0
0907   0B??           02003       decfsz COUNTH, f
0908   2???           02004       goto   $+2
0909   0B??           02005       decfsz COUNTM, f
090A   2???           02006       goto   $+2
090B   0B??           02007       decfsz COUNTL, f
090C   2???           02008       goto   HalfS_0
                      02009 
090D   2???           02010       goto $+1
090E   0000           02011       nop
090F   0000           02012       nop
0910   0008           02013                 return
                      02014 
0911                  02015 point06
                      02016                         ;79998 cycles
0911   30DF           02017         movlw   0xDF
0912   00A4           02018         movwf   lcd_d1
0913   302F           02019         movlw   0x2F
0914   00A5           02020         movwf   lcd_d2
0915                  02021 point06_0
0915   0BA4           02022         decfsz  lcd_d1, f
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0916   2???           02023         goto    $+2
0917   0BA5           02024         decfsz  lcd_d2, f
0918   2???           02025         goto    point06_0
                      02026 
                      02027                         ;2 cycles
0919   2???           02028         goto    $+1
091A   0008           02029         return
                      02030 
                      02031 ; Delay = 0.01 seconds
                      02032 ; Clock frequency = 10 MHz
                      02033 
                      02034 ; Actual delay = 0.01 seconds = 25000 cycles
                      02035 ; Error = 0 %
                      02036 
091B                  02037 point01
                      02038                         ;24998 cycles
091B   3087           02039         movlw   0x87
091C   00A4           02040         movwf   lcd_d1
091D   3014           02041         movlw   0x14
091E   00A5           02042         movwf   lcd_d2
091F                  02043 point01_0
091F   0BA4           02044         decfsz  lcd_d1, f
0920   2???           02045         goto    $+2
0921   0BA5           02046         decfsz  lcd_d2, f
0922   2???           02047         goto    point01_0
                      02048                         ;2 cycles
0923   2???           02049         goto    $+1
0924   0008           02050         return
                      02051 
0925                  02052 zeropointone
0925   301F           02053         movlw   0x1F
0926   00A4           02054         movwf   lcd_d1
0927   304F           02055         movlw   0x4F
0928   00A5           02056         movwf   lcd_d2
0929                  02057 Delay_0
0929   0BA4           02058         decfsz  lcd_d1, f
092A   2???           02059         goto    $+2
092B   0BA5           02060         decfsz  lcd_d2, f
092C   2???           02061         goto    Delay_0
                      02062 
                      02063                         ;2 cycles
092D   2???           02064         goto    $+1
092E   0008           02065         return
                      02066 ;***************************************
                      02067 ; Delay 0.03s
                      02068 ;***************************************
092F                  02069 QS      
                      02070                         ;19993 cycles
092F   309E           02071         movlw   0x9E
0930   00A4           02072         movwf   lcd_d1
0931   3010           02073         movlw   0x10
0932   00A5           02074         movwf   lcd_d2
0933                  02075 QS_0
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0933   0BA4           02076         decfsz  lcd_d1, f
0934   2???           02077         goto    $+2
0935   0BA5           02078         decfsz  lcd_d2, f
0936   2???           02079         goto    QS_0
                      02080 
                      02081                         ;3 cycles
0937   2???           02082         goto    $+1
0938   0000           02083         nop
                      02084 
                      02085                         ;4 cycles (including call)
0939   0008           02086         return
                      02087 
                      02088 ;*************************************************************************************
                      02089 ; End Data - Input:PORTB<6:4>, Output:-
                      02090 ;*************************************************************************************
093A                  02091 EndMenu
093A   120A           02092                 bcf                     PCLATH,4
093B   118A           02093                 bcf             PCLATH,3                ;calls functions in Page 0 
093C   2???           02094                 call            ClrLCD
093D   3031           02095                 movlw           "1"
093E   2???           02096                 call            WR_DATA
093F   302D           02097                 movlw           "-"
0940   2???           02098                 call            WR_DATA
0941   3050           02099                 movlw           "P"
0942   2???           02100                 call            WR_DATA
0943   3061           02101                 movlw           "a"
0944   2???           02102                 call            WR_DATA
0945   3074           02103                 movlw           "t"
0946   2???           02104                 call            WR_DATA
0947   3074           02105                 movlw           "t"
0948   2???           02106                 call            WR_DATA
0949   3065           02107                 movlw           "e"
094A   2???           02108                 call            WR_DATA
094B   3072           02109                 movlw           "r"
094C   2???           02110                 call            WR_DATA
094D   306E           02111                 movlw           "n"
094E   2???           02112                 call            WR_DATA
094F   3073           02113                 movlw           "s"
0950   2???           02114                 call            WR_DATA
0951   2???           02115                 call            Switch_Lines
0952   3032           02116                 movlw           "2"
0953   2???           02117                 call            WR_DATA
0954   302D           02118                 movlw           "-"
0955   2???           02119                 call            WR_DATA
0956   3042           02120                 movlw           "B"
0957   2???           02121                 call            WR_DATA
0958   3061           02122                 movlw           "a"
0959   2???           02123                 call            WR_DATA
095A   306C           02124                 movlw           "l"
095B   2???           02125                 call            WR_DATA
095C   306C           02126                 movlw           "l"
095D   2???           02127                 call            WR_DATA
095E   3073           02128                 movlw           "s"
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

095F   2???           02129                 call            WR_DATA
0960   3020           02130                 movlw           " "
0961   2???           02131                 call            WR_DATA
0962   3033           02132                 movlw           "3"
0963   2???           02133                 call            WR_DATA
0964   302D           02134                 movlw           "-"
0965   2???           02135                 call            WR_DATA
0966   304D           02136                 movlw           "M"
0967   2???           02137                 call            WR_DATA
0968   306F           02138                 movlw           "o"
0969   2???           02139                 call            WR_DATA
096A   3072           02140                 movlw           "r"
096B   2???           02141                 call            WR_DATA
096C   3065           02142                 movlw           "e"
096D   2???           02143                 call            WR_DATA 
096E   120A           02144                 bcf                     PCLATH,4                        ;go back to Page 1
096F   158A           02145                 bsf             PCLATH,3  
0970   1C86           02146             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
0971   2???           02147         goto            $-1 
0972   2???           02148                 goto            CheckvalidPage1 
0973                  02149 GoodinputPage1
0973   1A06           02150                 btfsc           PORTB,4
0974   2???           02151                 goto            BallsMenu
0975   1A86           02152                 btfsc           PORTB,5
0976   2???           02153                 goto            SecondPageEndMenu
0977   2???           02154                 goto            PatternsChosen
                      02155 
0978                  02156 CheckvalidPage1 
0978   1B06           02157                 btfsc           PORTB,6                 ;If input > 3
0979   2???           02158                 goto            InvalidPage1
097A   1E06           02159                 btfss           PORTB,4                 ;If input > 3
097B   2???           02160                 goto            GoodinputPage1
097C   1E86           02161                 btfss           PORTB,5                 ;If input > 3
097D   2???           02162                 goto            GoodinputPage1
097E   2???           02163                 goto            InvalidPage1
                      02164 
097F                  02165 InvalidPage1    
097F   2???           02166                 call            InvalidPage
0980   120A           02167                 bcf                     PCLATH,4                ;call page 1 things
0981   158A           02168                 bsf                     PCLATH,3
0982   2???           02169                 goto            EndMenu
                      02170 
0983                  02171 InvalidPage
0983   120A           02172                 bcf                     PCLATH,4                ;call page 0 things
0984   118A           02173                 bcf                     PCLATH,3
0985   2???           02174                 call            ClrLCD
0986   3049           02175                 movlw           "I"
0987   2???           02176                 call            WR_DATA
0988   306E           02177                 movlw           "n"
0989   2???           02178                 call            WR_DATA
098A   3076           02179                 movlw           "v"
098B   2???           02180                 call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

098C   3061           02181                 movlw           "a"
098D   2???           02182                 call            WR_DATA
098E   306C           02183                 movlw           "l"
098F   2???           02184                 call            WR_DATA
0990   3069           02185                 movlw           "i"
0991   2???           02186                 call            WR_DATA
0992   3064           02187                 movlw           "d"
0993   2???           02188                 call            WR_DATA
0994   3020           02189                 movlw           " "
0995   2???           02190                 call            WR_DATA
0996   3049           02191                 movlw           "I"
0997   2???           02192                 call            WR_DATA
0998   306E           02193                 movlw           "n"
0999   2???           02194                 call            WR_DATA
099A   3070           02195                 movlw           "p"
099B   2???           02196                 call            WR_DATA
099C   3075           02197                 movlw           "u"
099D   2???           02198                 call            WR_DATA
099E   3074           02199                 movlw           "t"
099F   2???           02200                 call            WR_DATA
09A0   2???           02201                 call            Switch_Lines
09A1   302A           02202                 movlw           "*"
09A2   2???           02203                 call            WR_DATA
09A3   3020           02204                 movlw           " "
09A4   2???           02205                 call            WR_DATA
09A5   3074           02206                 movlw           "t"
09A6   2???           02207                 call            WR_DATA
09A7   306F           02208                 movlw           "o"
09A8   2???           02209                 call            WR_DATA
09A9   3020           02210                 movlw           " "
09AA   2???           02211                 call            WR_DATA
09AB   3063           02212                 movlw           "c"
09AC   2???           02213                 call            WR_DATA
09AD   306F           02214                 movlw           "o"
09AE   2???           02215                 call            WR_DATA
09AF   306E           02216                 movlw           "n"
09B0   2???           02217                 call            WR_DATA
09B1   3074           02218                 movlw           "t"
09B2   2???           02219                 call            WR_DATA
09B3   3069           02220                 movlw           "i"
09B4   2???           02221                 call            WR_DATA
09B5   306E           02222                 movlw           "n"
09B6   2???           02223                 call            WR_DATA
09B7   3075           02224                 movlw           "u"
09B8   2???           02225                 call            WR_DATA
09B9   3065           02226                 movlw           "e"
09BA   2???           02227                 call            WR_DATA 
09BB   2???           02228                 call            StarPressed
09BC   0008           02229                 return
                      02230 
                      02231 
09BD                  02232 SecondPageEndMenu
09BD   120A           02233                 bcf                     PCLATH,4
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09BE   118A           02234                 bcf             PCLATH,3                ;calls functions in Page 0 
09BF   2???           02235                 call            ClrLCD
09C0   3031           02236                 movlw           "1"
09C1   2???           02237                 call            WR_DATA
09C2   302D           02238                 movlw           "-"
09C3   2???           02239                 call            WR_DATA
09C4   3044           02240                 movlw           "D"
09C5   2???           02241                 call            WR_DATA
09C6   3061           02242                 movlw           "a"
09C7   2???           02243                 call            WR_DATA
09C8   3074           02244                 movlw           "t"
09C9   2???           02245                 call            WR_DATA
09CA   3065           02246                 movlw           "e"
09CB   2???           02247                 call            WR_DATA
09CC   3020           02248                 movlw           " "
09CD   2???           02249                 call            WR_DATA
09CE   3045           02250                 movlw           "E"
09CF   2???           02251                 call            WR_DATA
09D0   306E           02252                 movlw           "n"
09D1   2???           02253                 call            WR_DATA
09D2   3064           02254                 movlw           "d"
09D3   2???           02255                 call            WR_DATA
09D4   3065           02256                 movlw           "e"
09D5   2???           02257                 call            WR_DATA
09D6   3064           02258                 movlw           "d"
09D7   2???           02259                 call            WR_DATA
09D8   2???           02260                 call            Switch_Lines
09D9   3032           02261                 movlw           "2"
09DA   2???           02262                 call            WR_DATA
09DB   302D           02263                 movlw           "-"
09DC   2???           02264                 call            WR_DATA
09DD   3054           02265                 movlw           "T"
09DE   2???           02266                 call            WR_DATA
09DF   3069           02267                 movlw           "i"
09E0   2???           02268                 call            WR_DATA
09E1   306D           02269                 movlw           "m"
09E2   2???           02270                 call            WR_DATA
09E3   3065           02271                 movlw           "e"
09E4   2???           02272                 call            WR_DATA
09E5   3020           02273                 movlw           " "
09E6   2???           02274                 call            WR_DATA
09E7   3033           02275                 movlw           "3"
09E8   2???           02276                 call            WR_DATA
09E9   302D           02277                 movlw           "-"
09EA   2???           02278                 call            WR_DATA
09EB   304D           02279                 movlw           "M"
09EC   2???           02280                 call            WR_DATA
09ED   306F           02281                 movlw           "o"
09EE   2???           02282                 call            WR_DATA
09EF   3072           02283                 movlw           "r"
09F0   2???           02284                 call            WR_DATA
09F1   3065           02285                 movlw           "e"
09F2   2???           02286                 call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09F3   120A           02287                 bcf                     PCLATH,4                        ;go back to Page 1
09F4   158A           02288                 bsf             PCLATH,3  
09F5   1C86           02289             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
09F6   2???           02290         goto            $-1 
09F7   2???           02291                 goto            CheckvalidPage2
09F8                  02292 GoodinputPage2
09F8   1A06           02293                 btfsc           PORTB,4
09F9   2???           02294                 goto            DisplayTimeTaken
09FA   1A86           02295                 btfsc           PORTB,5
09FB   2???           02296                 goto            ThirdPageEndMenu
09FC   2???           02297                 goto            DisplayDateEnded
                      02298 
09FD                  02299 CheckvalidPage2 
09FD   1B06           02300                 btfsc           PORTB,6                 ;If input > 3
09FE   2???           02301                 goto            InvalidPage2
09FF   1E06           02302                 btfss           PORTB,4                 ;If input > 3
0A00   2???           02303                 goto            GoodinputPage2
0A01   1E86           02304                 btfss           PORTB,5                 ;If input > 3
0A02   2???           02305                 goto            GoodinputPage2
0A03   2???           02306                 goto            InvalidPage2
                      02307 
0A04                  02308 InvalidPage2    
0A04   2???           02309                 call            InvalidPage
0A05   120A           02310                 bcf                     PCLATH,4                ;call page 1 things
0A06   158A           02311                 bsf                     PCLATH,3
0A07   2???           02312                 goto            SecondPageEndMenu
                      02313 
0A08                  02314 DisplayDateEnded
0A08   120A           02315                 bcf                     PCLATH,4
0A09   118A           02316                 bcf             PCLATH,3                ;calls functions in Page 0 
0A0A   2???           02317                 call            ClrLCD
0A0B   2???           02318                 call            ButtonReleased
                      02319                 ;Get year
0A0C   3032           02320                 movlw           "2"                             ;First line shows 20**/**/**
0A0D   2???           02321                 call            WR_DATA
0A0E   3030           02322                 movlw           "0"
0A0F   2???           02323                 call            WR_DATA
0A10   3031           02324                 movlw           "1"
0A11   2???           02325                 call            WR_DATA
0A12   3033           02326                 movlw           "3"
0A13   2???           02327                 call            WR_DATA
0A14   302F           02328                 movlw           "/"
0A15   2???           02329                 call            WR_DATA
0A16   0837           02330                 movfw           TensMonth
0A17   2???           02331                 call            WR_DATA
0A18   0838           02332                 movfw           OnesMonth
0A19   2???           02333                 call            WR_DATA
0A1A   302F           02334                 movlw           "/"
0A1B   2???           02335                 call            WR_DATA
0A1C   0839           02336                 movfw           TensDay
0A1D   2???           02337                 call            WR_DATA
0A1E   083A           02338                 movfw           OnesDay
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A1F   2???           02339                 call            WR_DATA
0A20   30C0           02340                 movlw           B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
0A21   2???           02341                 call            WR_INS
0A22   0841           02342                 movfw           TensHoursFinished
0A23   2???           02343                 call            writenumber
0A24   0842           02344                 movfw           OnesHoursFinished
0A25   2???           02345                 call            writenumber
0A26   303A           02346                 movlw           ":"
0A27   2???           02347                 call            WR_DATA
0A28   0843           02348                 movfw           TensMinutesFinished
0A29   2???           02349                 call            writenumber
0A2A   0844           02350                 movfw           OnesMinutesFinished
0A2B   2???           02351                 call            writenumber
0A2C   303A           02352                 movlw           ":"
0A2D   2???           02353                 call            WR_DATA
0A2E   0845           02354                 movfw           TensSecondsFinished
0A2F   2???           02355                 call            writenumber
0A30   0846           02356                 movfw           OnesSecondsFinished
0A31   2???           02357                 call            writenumber
0A32   3020           02358                 movlw           " "
0A33   2???           02359                 call            WR_DATA
0A34   3050           02360                 movlw           "P"
0A35   2???           02361                 call            WR_DATA
0A36   3072           02362                 movlw           "r"
0A37   2???           02363                 call            WR_DATA
0A38   3065           02364                 movlw           "e"
0A39   2???           02365                 call            WR_DATA
0A3A   3073           02366                 movlw           "s"
0A3B   2???           02367                 call            WR_DATA
0A3C   3073           02368                 movlw           "s"
0A3D   2???           02369                 call            WR_DATA
0A3E   3020           02370                 movlw           " "
0A3F   2???           02371                 call            WR_DATA
0A40   302A           02372                 movlw           "*"
0A41   2???           02373                 call            WR_DATA
0A42   2???           02374                 call            StarPressed                     ;Check if star is pressed
0A43   2???           02375                 call            ButtonReleased
0A44   120A           02376                 bcf                     PCLATH,4                        ;go back to Page 1
0A45   158A           02377                 bsf             PCLATH,3 
0A46   2???           02378                 goto            SecondPageEndMenu       
                      02379 
0A47                  02380 ThirdPageEndMenu
0A47   120A           02381                 bcf                     PCLATH,4
0A48   118A           02382                 bcf             PCLATH,3                ;calls functions in Page 0 
0A49   2???           02383                 call            ClrLCD
0A4A   3031           02384                 movlw           "1"
0A4B   2???           02385                 call            WR_DATA
0A4C   302D           02386                 movlw           "-"
0A4D   2???           02387                 call            WR_DATA
0A4E   304E           02388                 movlw           "N"
0A4F   2???           02389                 call            WR_DATA
0A50   3065           02390                 movlw           "e"
0A51   2???           02391                 call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A52   3077           02392                 movlw           "w"
0A53   2???           02393                 call            WR_DATA
0A54   3020           02394                 movlw           " "
0A55   2???           02395                 call            WR_DATA
0A56   304F           02396                 movlw           "O"
0A57   2???           02397                 call            WR_DATA
0A58   3070           02398                 movlw           "p"
0A59   2???           02399                 call            WR_DATA
0A5A   3065           02400                 movlw           "e"
0A5B   2???           02401                 call            WR_DATA
0A5C   3072           02402                 movlw           "r"
0A5D   2???           02403                 call            WR_DATA
0A5E   3061           02404                 movlw           "a"
0A5F   2???           02405                 call            WR_DATA
0A60   3074           02406                 movlw           "t"
0A61   2???           02407                 call            WR_DATA
0A62   3069           02408                 movlw           "i"
0A63   2???           02409                 call            WR_DATA
0A64   306F           02410                 movlw           "o"
0A65   2???           02411                 call            WR_DATA
0A66   306E           02412                 movlw           "n"
0A67   2???           02413                 call            WR_DATA
0A68   2???           02414                 call            Switch_Lines
0A69   3032           02415                 movlw           "2"
0A6A   2???           02416                 call            WR_DATA
0A6B   302D           02417                 movlw           "-"
0A6C   2???           02418                 call            WR_DATA
0A6D   304D           02419                 movlw           "M"
0A6E   2???           02420                 call            WR_DATA
0A6F   306F           02421                 movlw           "o"
0A70   2???           02422                 call            WR_DATA
0A71   3072           02423                 movlw           "r"
0A72   2???           02424                 call            WR_DATA
0A73   3065           02425                 movlw           "e"
0A74   2???           02426                 call            WR_DATA
0A75   120A           02427                 bcf                     PCLATH,4                        ;go back to Page 1
0A76   158A           02428                 bsf             PCLATH,3  
0A77   1C86           02429             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
0A78   2???           02430         goto            $-1 
0A79   2???           02431                 goto            CheckvalidPage3
0A7A                  02432 GoodinputPage3
0A7A   1A06           02433                 btfsc           PORTB,4
0A7B   2???           02434                 goto            FourthPageEndMenu
0A7C   2???           02435                 goto            NewOperation
                      02436 
0A7D                  02437 CheckvalidPage3 
0A7D   1B06           02438                 btfsc           PORTB,6                 ;If input > 3
0A7E   2???           02439                 goto            InvalidPage3
0A7F   1A86           02440                 btfsc           PORTB,5                 ;If input > 3
0A80   2???           02441                 goto            InvalidPage3
0A81   2???           02442                 goto            GoodinputPage3
                      02443 
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A82                  02444 InvalidPage3    
0A82   2???           02445                 call            InvalidPage
0A83   120A           02446                 bcf                     PCLATH,4                ;call page 1 things
0A84   158A           02447                 bsf                     PCLATH,3
0A85   2???           02448                 goto            ThirdPageEndMenu
                      02449 
0A86                  02450 NewOperation
0A86   120A           02451                 bcf                     PCLATH,4
0A87   118A           02452                 bcf             PCLATH,3                ;calls functions in Page 0 
0A88   ???? ???? 2??? 02453                 lgoto           init                            ;init works better
                      02454                 ;lgoto          DoneInterface
                      02455 
0A8B                  02456 FourthPageEndMenu
0A8B   120A           02457                 bcf                     PCLATH,4
0A8C   118A           02458                 bcf             PCLATH,3                ;calls functions in Page 0 
0A8D   2???           02459                 call            ClrLCD
0A8E   3031           02460                 movlw           "1"
0A8F   2???           02461                 call            WR_DATA
0A90   302D           02462                 movlw           "-"
0A91   2???           02463                 call            WR_DATA
0A92   3044           02464                 movlw           "D"
0A93   2???           02465                 call            WR_DATA
0A94   306F           02466                 movlw           "o"
0A95   2???           02467                 call            WR_DATA
0A96   3077           02468                 movlw           "w"
0A97   2???           02469                 call            WR_DATA
0A98   306E           02470                 movlw           "n"
0A99   2???           02471                 call            WR_DATA
0A9A   306C           02472                 movlw           "l"
0A9B   2???           02473                 call            WR_DATA
0A9C   306F           02474                 movlw           "o"
0A9D   2???           02475                 call            WR_DATA
0A9E   3061           02476                 movlw           "a"
0A9F   2???           02477                 call            WR_DATA
0AA0   3064           02478                 movlw           "d"
0AA1   2???           02479                 call            WR_DATA
0AA2   3020           02480                 movlw           " "
0AA3   2???           02481                 call            WR_DATA
0AA4   306C           02482                 movlw           "l"
0AA5   2???           02483                 call            WR_DATA
0AA6   306F           02484                 movlw           "o"
0AA7   2???           02485                 call            WR_DATA
0AA8   3067           02486                 movlw           "g"
0AA9   2???           02487                 call            WR_DATA
0AAA   3073           02488                 movlw           "s"
0AAB   2???           02489                 call            WR_DATA
0AAC   2???           02490                 call            Switch_Lines
0AAD   3032           02491                 movlw           "2"
0AAE   2???           02492                 call            WR_DATA
0AAF   302D           02493                 movlw           "-"
0AB0   2???           02494                 call            WR_DATA
0AB1   304D           02495                 movlw           "M"
0AB2   2???           02496                 call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AB3   306F           02497                 movlw           "o"
0AB4   2???           02498                 call            WR_DATA
0AB5   3072           02499                 movlw           "r"
0AB6   2???           02500                 call            WR_DATA
0AB7   3065           02501                 movlw           "e"
0AB8   2???           02502                 call            WR_DATA
0AB9   120A           02503                 bcf                     PCLATH,4                        ;go back to Page 1
0ABA   158A           02504                 bsf             PCLATH,3  
0ABB   1C86           02505             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
0ABC   2???           02506         goto            $-1 
0ABD   2???           02507                 goto            CheckvalidPage4
0ABE                  02508 GoodinputPage4
0ABE   1A06           02509                 btfsc           PORTB,4
0ABF   2???           02510                 goto            EndMenu
0AC0   2???           02511                 goto            DownloadLogs
                      02512 
0AC1                  02513 CheckvalidPage4
0AC1   1B06           02514                 btfsc           PORTB,6                 ;If input > 3
0AC2   2???           02515                 goto            InvalidPage4
0AC3   1A86           02516                 btfsc           PORTB,5                 ;If input > 3
0AC4   2???           02517                 goto            InvalidPage4
0AC5   2???           02518                 goto            GoodinputPage4
                      02519 
0AC6                  02520 InvalidPage4    
0AC6   2???           02521                 call            InvalidPage
0AC7   120A           02522                 bcf                     PCLATH,4                ;call page 1 things
0AC8   158A           02523                 bsf                     PCLATH,3
0AC9   2???           02524                 goto            FourthPageEndMenu
                      02525 
0ACA                  02526 DownloadLogs
0ACA   120A           02527                 bcf                     PCLATH,4                        ;go back to Page 0
0ACB   118A           02528                 bcf             PCLATH,3  
0ACC   2???           02529                 call            ClrLCD
0ACD   302A           02530                 movlw           "*"
0ACE   2???           02531                 call            WR_DATA
0ACF   3042           02532                 movlw           "B"
0AD0   2???           02533                 call            WR_DATA
0AD1   3075           02534                 movlw           "u"
0AD2   2???           02535                 call            WR_DATA
0AD3   3073           02536                 movlw           "s"
0AD4   2???           02537                 call            WR_DATA
0AD5   3079           02538                 movlw           "y"
0AD6   2???           02539                 call            WR_DATA
0AD7   302A           02540                 movlw           "*"
0AD8   2???           02541                 call            WR_DATA
                      02542 ;;************ initialize *******************
0AD9                  02543 initPC  
0AD9   1283           02544                 bcf           STATUS,RP0                        ;bank0
0ADA   01D1           02545                 clrf      Read_Address_Counter  ;start at address 0
0ADB   120A           02546                 bcf               PCLATH,4               ;back to page 0
0ADC   118A           02547                 bcf               PCLATH,3
0ADD   2???           02548                 call      Retrieveinfo   ;get proper log
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0ADE   1683           02549                 bsf       STATUS,RP0     ; select bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0ADF   0188           02550         clrf      TRISD
                      02551 
0AE0                  02552 RS232Setup        
                      02553         ;Setup USART for RS232
0AE0   300F           02554         movlw     d'15'          ; BAUD rate 9600, assuming 10MHz oscillator
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0AE1   0099           02555         movwf     SPBRG
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0AE2   0198           02556         clrf      TXSTA          ; 8 bits data ,no,1 stop
                      02557         
0AE3   1283           02558         bcf       STATUS,RP0     ; select bank 0
0AE4   1798           02559         bsf       RCSTA,SPEN     ; Asynchronous serial port enable
0AE5   1618           02560         bsf       RCSTA,CREN     ; continuous receive
                      02561 
0AE6   1683           02562         bsf       STATUS,RP0     ; select bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0AE7   1698           02563         bsf       TXSTA,TXEN     ; Transmit enable
                      02564 
                      02565 ;********** Send welcome message **********************
0AE8   1283           02566         bcf       STATUS,RP0     ; select bank 0
0AE9   01A0           02567         clrf      offset         ; Reset offset to 0            
                      02568         
0AEA                  02569 start   
0AEA   120A           02570                 bcf                     PCLATH,4                        ;go back to Page 1
0AEB   158A           02571                 bsf             PCLATH,3  
0AEC   300D           02572                 movlw     d'13'                                 ;Have some white space
0AED   2???           02573                 call      Send_Working
0AEE   300D           02574                 movlw     d'13'
0AEF   2???           02575                 call      Send_Working
0AF0   300D           02576                 movlw     d'13'
0AF1   2???           02577                 call      Send_Working
0AF2   300D           02578                 movlw     d'13'
0AF3   2???           02579                 call      Send_Working
0AF4   304C           02580                 movlw     "L"
0AF5   2???           02581                 call      Send_Working
0AF6   306F           02582                 movlw     "o"
0AF7   2???           02583                 call      Send_Working
0AF8   3067           02584                 movlw     "g"
0AF9   2???           02585                 call      Send_Working
0AFA   3020           02586                 movlw     " "
0AFB   2???           02587                 call      Send_Working
0AFC   3049           02588                 movlw     "I"
0AFD   2???           02589                 call      Send_Working
0AFE   306E           02590                 movlw     "n"
0AFF   2???           02591                 call      Send_Working
0B00   3066           02592                 movlw     "f"
0B01   2???           02593                 call      Send_Working
0B02   306F           02594                 movlw     "o"
0B03   2???           02595                 call      Send_Working
0B04   3072           02596                 movlw     "r"
0B05   2???           02597                 call      Send_Working
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B06   306D           02598                 movlw     "m"
0B07   2???           02599                 call      Send_Working
0B08   3061           02600                 movlw     "a"
0B09   2???           02601                 call      Send_Working
0B0A   3074           02602                 movlw     "t"
0B0B   2???           02603                 call      Send_Working
0B0C   3069           02604                 movlw     "i"
0B0D   2???           02605                 call      Send_Working
0B0E   306F           02606                 movlw     "o"
0B0F   2???           02607                 call      Send_Working
0B10   306E           02608                 movlw     "n"
0B11   2???           02609                 call      Send_Working
                      02610 
0B12                  02611 Date_of_End
0B12   2???           02612                 call      NewLine
0B13   01A0           02613                 clrf      offset
0B14                  02614 DateEnd
0B14   3044           02615                 movlw     "D"
0B15   2???           02616                 call      Send_Working
0B16   3061           02617                 movlw     "a"
0B17   2???           02618             call          Send_Working
0B18   3074           02619                 movlw     "t"
0B19   2???           02620                 call      Send_Working
0B1A   3065           02621                 movlw     "e"
0B1B   2???           02622             call          Send_Working
0B1C   3020           02623                 movlw     " "
0B1D   2???           02624                 call      Send_Working
0B1E   3046           02625                 movlw     "F"
0B1F   2???           02626             call          Send_Working
0B20   3069           02627                 movlw     "i"
0B21   2???           02628                 call      Send_Working
0B22   306E           02629                 movlw     "n"
0B23   2???           02630             call          Send_Working
0B24   3069           02631                 movlw     "i"
0B25   2???           02632                 call      Send_Working
0B26   3073           02633                 movlw     "s"
0B27   2???           02634             call          Send_Working
0B28   3068           02635                 movlw     "h"
0B29   2???           02636                 call      Send_Working
0B2A   3065           02637                 movlw     "e"
0B2B   2???           02638             call          Send_Working
0B2C   3064           02639                 movlw     "d"
0B2D   2???           02640                 call      Send_Working
0B2E   303A           02641                 movlw     ":"
0B2F   2???           02642             call          Send_Working
0B30   3020           02643                 movlw     " "
0B31   2???           02644             call          Send_Working
                      02645 
                      02646 
0B32                  02647 Actual_Date
0B32   3032           02648                 movlw     "2"
0B33   2???           02649                 call      Send_Working
0B34   3030           02650                 movlw     "0"
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B35   2???           02651             call          Send_Working
0B36   3031           02652                 movlw     "1"
0B37   2???           02653                 call      Send_Working
0B38   3033           02654                 movlw     "3"
0B39   2???           02655             call          Send_Working
0B3A   302F           02656                 movlw     "/"
0B3B   2???           02657             call          Send_Working
0B3C   0837           02658                 movfw     TensMonth
0B3D   2???           02659                 call      Send_Working
0B3E   0838           02660                 movfw     OnesMonth
0B3F   2???           02661             call          Send_Working
0B40   302F           02662                 movlw     "/"
0B41   2???           02663                 call      Send_Working
0B42   0839           02664                 movfw     TensDay
0B43   2???           02665             call          Send_Working
0B44   083A           02666                 movfw     OnesDay
0B45   2???           02667             call          Send_Working
0B46   3020           02668                 movlw     " "
0B47   2???           02669                 call      Send_Working
0B48   0841           02670                 movfw     TensHoursFinished
0B49   2???           02671             call          Send_Working
0B4A   0842           02672                 movfw     OnesHoursFinished
0B4B   2???           02673             call          Send_Working
0B4C   303A           02674                 movlw     ":"
0B4D   2???           02675                 call      Send_Working
0B4E   0843           02676                 movfw     TensMinutesFinished
0B4F   2???           02677             call          Send_Working
0B50   0844           02678                 movfw     OnesMinutesFinished
0B51   2???           02679             call          Send_Working
0B52   303A           02680                 movlw     ":"
0B53   2???           02681                 call      Send_Working
0B54   0845           02682                 movfw     TensSecondsFinished
0B55   2???           02683             call          Send_Working
0B56   0846           02684                 movfw     OnesSecondsFinished
0B57   2???           02685             call          Send_Working
0B58   3020           02686                 movlw     " "
0B59   2???           02687                 call      Send_Working
0B5A   2???           02688                 goto      Patterns_Picked
                      02689 
0B5B                  02690 NewLine
0B5B   300A           02691                 movlw     d'10'                                 ;go to new line
0B5C   2???           02692                 call      Send_Working
0B5D   300D           02693                 movlw     d'13'                                 ;reset carriage
0B5E   2???           02694                 call      Send_Working
0B5F   0008           02695                 return
                      02696 
0B60                  02697 Send_Working
0B60   0099           02698                 movwf     TXREG          ; Send contents of W to RS232
0B61   1683           02699         bsf       STATUS,RP0     ; Go to bank with TXSTA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0B62   1C98           02700         btfss     TXSTA,1        ; check TRMT bit in TXSTA (FSR) until TRMT=1
0B63   2???           02701         goto      $-1
0B64   1283           02702         bcf       STATUS,RP0     ; Go back to bank 0
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B65   0008           02703                 return
                      02704 
0B66                  02705 Send_Working_Number
0B66   3E30           02706                 addlw     d'48'
0B67   2???           02707                 call      Send_Working
0B68   0008           02708                 return
                      02709 
0B69                  02710 Patterns_Picked
0B69   01A0           02711                 clrf      offset
0B6A   3050           02712                 movlw     "P"
0B6B   2???           02713             call          Send_Working
0B6C   3061           02714                 movlw     "a"
0B6D   2???           02715             call          Send_Working
0B6E   3074           02716                 movlw     "t"
0B6F   2???           02717             call          Send_Working
0B70   3074           02718                 movlw     "t"
0B71   2???           02719             call          Send_Working  
0B72   3065           02720                 movlw     "e"
0B73   2???           02721             call          Send_Working
0B74   3072           02722                 movlw     "r"
0B75   2???           02723             call          Send_Working
0B76   306E           02724                 movlw     "n"
0B77   2???           02725             call          Send_Working
0B78   3073           02726                 movlw     "s"
0B79   2???           02727             call          Send_Working
0B7A   3020           02728                 movlw     " "
0B7B   2???           02729             call          Send_Working  
0B7C   3053           02730                 movlw     "S"
0B7D   2???           02731             call          Send_Working
0B7E   3065           02732                 movlw     "e"
0B7F   2???           02733             call          Send_Working
0B80   306C           02734                 movlw     "l"
0B81   2???           02735             call          Send_Working
0B82   3065           02736                 movlw     "e"
0B83   2???           02737             call          Send_Working
0B84   3063           02738                 movlw     "c"
0B85   2???           02739             call          Send_Working  
0B86   3074           02740                 movlw     "t"
0B87   2???           02741             call          Send_Working
0B88   3065           02742                 movlw     "e"
0B89   2???           02743             call          Send_Working  
0B8A   3064           02744                 movlw     "d"
0B8B   2???           02745             call          Send_Working
0B8C   303A           02746                 movlw     ":"
0B8D   2???           02747             call          Send_Working  
0B8E   3020           02748                 movlw     " "
0B8F   2???           02749             call          Send_Working
0B90   2???           02750                 goto      Actual_Patterns
                      02751 
                      02752 
0B91                  02753 Pattern_Convert                                 ;convert the keypad numbers, into numbers for hypertermi
                            nal
0B91   00D2           02754                 movwf           Memory_Temp
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B92   19D2           02755                 btfsc           Memory_Temp,3
0B93   2???           02756                 goto            convert8
0B94   1D52           02757                 btfss           Memory_Temp,2
0B95   2???           02758                 goto            add1
0B96                  02759 Pattern_Good
0B96   0852           02760                 movfw           Memory_Temp
0B97   0008           02761                 return
                      02762                 
0B98                  02763 convert8
0B98   01D2           02764                 clrf            Memory_Temp
0B99   2???           02765                 goto            Pattern_Good
0B9A                  02766 add1
0B9A   0AD2           02767                 incf            Memory_Temp,F
0B9B   2???           02768                 goto            Pattern_Good
                      02769 
                      02770 
0B9C                  02771 Actual_Patterns
0B9C   0829           02772                 movfw     Pattern_Number_1
0B9D   2???           02773                 call      Pattern_Convert
0B9E   2???           02774                 call      Send_Working_Number
0B9F   302C           02775                 movlw     ","
0BA0   2???           02776                 call      Send_Working
0BA1   082A           02777                 movfw     Pattern_Number_2
0BA2   2???           02778                 call      Pattern_Convert
0BA3   2???           02779                 call      Send_Working_Number
0BA4   302C           02780                 movlw     ","
0BA5   2???           02781                 call      Send_Working
0BA6   082B           02782                 movfw     Pattern_Number_3
0BA7   2???           02783                 call      Pattern_Convert
0BA8   2???           02784                 call      Send_Working_Number
0BA9   3020           02785                 movlw     " "
0BAA   2???           02786                 call      Send_Working
0BAB   01A0           02787                 clrf      offset
                      02788 
0BAC                  02789 WhiteLeft
0BAC   0820           02790                 movf      offset,w       ; Load TAB[offset] into W
0BAD   3057           02791                 movlw     "W"
0BAE   2???           02792             call          Send_Working  
0BAF   3068           02793                 movlw     "h"
0BB0   2???           02794             call          Send_Working
0BB1   3069           02795                 movlw     "i"
0BB2   2???           02796             call          Send_Working  
0BB3   3074           02797                 movlw     "t"
0BB4   2???           02798             call          Send_Working
0BB5   3065           02799                 movlw     "e"
0BB6   2???           02800             call          Send_Working  
0BB7   3020           02801                 movlw     " "
0BB8   2???           02802             call          Send_Working
0BB9   304C           02803                 movlw     "L"
0BBA   2???           02804             call          Send_Working  
0BBB   3065           02805                 movlw     "e"
0BBC   2???           02806             call          Send_Working
0BBD   3066           02807                 movlw     "f"
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0BBE   2???           02808             call          Send_Working  
0BBF   3074           02809                 movlw     "t"
0BC0   2???           02810             call          Send_Working
0BC1   303A           02811                 movlw     ":"
0BC2   2???           02812             call          Send_Working  
0BC3   3020           02813                 movlw     " "
0BC4   2???           02814             call          Send_Working
0BC5   2???           02815                 goto      Actual_White
                      02816 
0BC6                  02817 SendTheBalls
0BC6   0852           02818                 movfw           Memory_Temp
0BC7   3C09           02819                 sublw           d'9'                            ;check if over nine
0BC8   1C03           02820                 btfss           STATUS,C                        ;will be set if negative
0BC9   2???           02821                 goto            OverNineSend
0BCA   2???           02822                 goto            UnderNineSend
                      02823                 
0BCB                  02824 OverNineSend            
0BCB   3031           02825                 movlw           "1"
0BCC   2???           02826                 call            Send_Working
0BCD   300A           02827                 movlw           d'10'
0BCE   02D2           02828                 subwf           Memory_Temp,F
                      02829 
0BCF                  02830 UnderNineSend
0BCF   0852           02831                 movfw           Memory_Temp     
0BD0   2???           02832                 call            Send_Working_Number
0BD1   0008           02833                 return
                      02834 
0BD2                  02835 Actual_White 
0BD2   084E           02836                 movfw     WhiteBalls
0BD3   00D2           02837                 movwf     Memory_Temp
0BD4   2???           02838                 call      SendTheBalls                  ;account for 10+
                      02839 ;               movfw     WhiteBalls
                      02840 ;               call      Send_Working_Number
0BD5   300D           02841                 movlw     d'13'                                 ;go to new line (only one for single spa
                            ce on notepad++)
0BD6   2???           02842                 call      Send_Working
0BD7   01A0           02843                 clrf      offset
                      02844 
0BD8                  02845 OrangeLeft
0BD8   0820           02846                 movf      offset,w       ; Load TAB[offset] into W
0BD9   304F           02847                 movlw     "O"
0BDA   2???           02848             call          Send_Working  
0BDB   3072           02849                 movlw     "r"
0BDC   2???           02850             call          Send_Working
0BDD   3061           02851                 movlw     "a"
0BDE   2???           02852             call          Send_Working  
0BDF   306E           02853                 movlw     "n"
0BE0   2???           02854             call          Send_Working
0BE1   3067           02855                 movlw     "g"
0BE2   2???           02856             call          Send_Working
0BE3   3065           02857                 movlw     "e"
0BE4   2???           02858             call          Send_Working  
0BE5   3020           02859                 movlw     " "
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0BE6   2???           02860             call          Send_Working
0BE7   304C           02861                 movlw     "L"
0BE8   2???           02862             call          Send_Working  
0BE9   3065           02863                 movlw     "e"
0BEA   2???           02864             call          Send_Working
0BEB   3066           02865                 movlw     "f"
0BEC   2???           02866             call          Send_Working  
0BED   3074           02867                 movlw     "t"
0BEE   2???           02868             call          Send_Working
0BEF   303A           02869                 movlw     ":"
0BF0   2???           02870             call          Send_Working  
0BF1   3020           02871                 movlw     " "
0BF2   2???           02872             call          Send_Working
                      02873 
0BF3                  02874 Actual_Orange
0BF3   084F           02875                 movfw     OrangeBalls
0BF4   00D2           02876                 movwf     Memory_Temp
0BF5   2???           02877                 call      SendTheBalls                  ;account for 10+
                      02878 ;               movfw     OrangeBalls
                      02879 ;               call      Send_Working_Number
0BF6   3020           02880                 movlw     " "
0BF7   2???           02881                 call      Send_Working
0BF8   01A0           02882                 clrf      offset
                      02883 
0BF9                  02884 Time_Elapsed
0BF9   0820           02885                 movf      offset,w       ; Load TAB[offset] into W
0BFA   3054           02886                 movlw     "T"
0BFB   2???           02887             call          Send_Working
0BFC   3069           02888                 movlw     "i"
0BFD   2???           02889             call          Send_Working          
0BFE   306D           02890                 movlw     "m"
0BFF   2???           02891             call          Send_Working
0C00   3065           02892                 movlw     "e"
0C01   2???           02893             call          Send_Working
0C02   3020           02894                 movlw     " "
0C03   2???           02895             call          Send_Working          
0C04   3045           02896                 movlw     "E"
0C05   2???           02897             call          Send_Working
0C06   306C           02898                 movlw     "l"
0C07   2???           02899             call          Send_Working
0C08   3061           02900                 movlw     "a"
0C09   2???           02901             call          Send_Working          
0C0A   3070           02902                 movlw     "p"
0C0B   2???           02903             call          Send_Working
0C0C   3073           02904                 movlw     "s"
0C0D   2???           02905             call          Send_Working
0C0E   3065           02906                 movlw     "e"
0C0F   2???           02907             call          Send_Working          
0C10   3064           02908                 movlw     "d"
0C11   2???           02909             call          Send_Working
0C12   303A           02910                 movlw     ":"
0C13   2???           02911             call          Send_Working
0C14   3020           02912                 movlw     " "
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 72


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C15   2???           02913             call          Send_Working          
                      02914 
0C16                  02915 Actual_Time
0C16   0849           02916                 movfw     TSE
0C17   2???           02917                 call      Send_Working_Number
0C18   0848           02918                 movfw     OSE
0C19   2???           02919                 call      Send_Working_Number
0C1A   3073           02920                 movlw     "s"
0C1B   2???           02921                 call      Send_Working
                      02922 
                      02923                 ;movlw          0x11                            ;Go to next log (add 17)
                      02924                 ;addwf          Read_Address_Counter,F
0C1C   0851           02925                 movfw           Read_Address_Counter                            
0C1D   3CFF           02926                 sublw           0xFF                                                    ;check if at end
                             of logs
0C1E   1903           02927                 btfsc           STATUS,Z                                                ;zero bit to see
                             if 0
0C1F   2???           02928                 goto            FinishDownloadingLogs
                      02929 
0C20   120A           02930                 bcf                     PCLATH,4                        ;go back to Page 0
0C21   118A           02931                 bcf             PCLATH,3                
0C22   2???           02932                 call            Retrieveinfo            
0C23   120A           02933                 bcf                     PCLATH,4                        ;go back to Page 1
0C24   158A           02934                 bsf             PCLATH,3
0C25   2???           02935                 goto        Date_of_End 
                      02936 
0C26                  02937 FinishDownloadingLogs
0C26   1283           02938                 bcf       STATUS,RP0     ; select bank 0
0C27   1398           02939                 bcf       RCSTA,SPEN     ; Asynchronous serial port disable 
0C28   120A           02940                 bcf                     PCLATH,4                        ;go back to Page 0
0C29   118A           02941                 bcf             PCLATH,3                
0C2A   2???           02942                 call            ClrLCD  
0C2B   3044           02943                 movlw           "D"
0C2C   2???           02944                 call            WR_DATA 
0C2D   306F           02945                 movlw           "o"
0C2E   2???           02946                 call            WR_DATA 
0C2F   306E           02947                 movlw           "n"
0C30   2???           02948                 call            WR_DATA 
0C31   3065           02949                 movlw           "e"
0C32   2???           02950                 call            WR_DATA 
0C33   3020           02951                 movlw           " "
0C34   2???           02952                 call            WR_DATA 
0C35   3044           02953                 movlw           "D"
0C36   2???           02954                 call            WR_DATA 
0C37   306F           02955                 movlw           "o"
0C38   2???           02956                 call            WR_DATA 
0C39   3077           02957                 movlw           "w"
0C3A   2???           02958                 call            WR_DATA 
0C3B   306E           02959                 movlw           "n"
0C3C   2???           02960                 call            WR_DATA 
0C3D   306C           02961                 movlw           "l"
0C3E   2???           02962                 call            WR_DATA 
0C3F   306F           02963                 movlw           "o"
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 73


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C40   2???           02964                 call            WR_DATA 
0C41   3061           02965                 movlw           "a"
0C42   2???           02966                 call            WR_DATA 
0C43   3064           02967                 movlw           "d"
0C44   2???           02968                 call            WR_DATA 
0C45   3069           02969                 movlw           "i"
0C46   2???           02970                 call            WR_DATA 
0C47   306E           02971                 movlw           "n"
0C48   2???           02972                 call            WR_DATA 
0C49   3067           02973                 movlw           "g"
0C4A   2???           02974                 call            WR_DATA 
0C4B   2???           02975                 call            Switch_Lines
0C4C   302A           02976                 movlw           "*"
0C4D   2???           02977                 call            WR_DATA 
0C4E   3020           02978                 movlw           " "
0C4F   2???           02979                 call            WR_DATA 
0C50   3074           02980                 movlw           "t"
0C51   2???           02981                 call            WR_DATA 
0C52   306F           02982                 movlw           "o"
0C53   2???           02983                 call            WR_DATA 
0C54   3020           02984                 movlw           " "
0C55   2???           02985                 call            WR_DATA 
0C56   3072           02986                 movlw           "r"
0C57   2???           02987                 call            WR_DATA 
0C58   3065           02988                 movlw           "e"
0C59   2???           02989                 call            WR_DATA 
0C5A   3074           02990                 movlw           "t"
0C5B   2???           02991                 call            WR_DATA 
0C5C   3075           02992                 movlw           "u"
0C5D   2???           02993                 call            WR_DATA 
0C5E   3072           02994                 movlw           "r"
0C5F   2???           02995                 call            WR_DATA 
0C60   306E           02996                 movlw           "n"
0C61   2???           02997                 call            WR_DATA 
0C62   2???           02998                 call            StarPressed
0C63   2???           02999                 call            ButtonReleased
0C64   120A           03000                 bcf                     PCLATH,4                        ;go back to Page 1
0C65   158A           03001                 bsf             PCLATH,3
0C66   2???           03002                 goto            FourthPageEndMenu                       
                      03003         
0C67                  03004 DisplayTimeTaken
0C67   120A           03005                 bcf                     PCLATH,4
0C68   118A           03006                 bcf             PCLATH,3                ;calls functions in Page 0 
0C69   2???           03007                 call            ClrLCD
0C6A   2???           03008                 call            ButtonReleased
0C6B   3054           03009                 movlw           "T"
0C6C   2???           03010                 call            WR_DATA
0C6D   3069           03011                 movlw           "i"
0C6E   2???           03012                 call            WR_DATA
0C6F   306D           03013                 movlw           "m"
0C70   2???           03014                 call            WR_DATA
0C71   3065           03015                 movlw           "e"
0C72   2???           03016                 call            WR_DATA
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 74


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C73   3020           03017                 movlw           " "
0C74   2???           03018                 call            WR_DATA
0C75   3074           03019                 movlw           "t"
0C76   2???           03020                 call            WR_DATA
0C77   3061           03021                 movlw           "a"
0C78   2???           03022                 call            WR_DATA
0C79   306B           03023                 movlw           "k"
0C7A   2???           03024                 call            WR_DATA
0C7B   3065           03025                 movlw           "e"
0C7C   2???           03026                 call            WR_DATA
0C7D   306E           03027                 movlw           "n"
0C7E   2???           03028                 call            WR_DATA
0C7F   3020           03029                 movlw           " "
0C80   2???           03030                 call            WR_DATA
0C81   0849           03031                 movfw           TSE
0C82   2???           03032                 call            writenumber
0C83   0848           03033                 movfw           OSE
0C84   2???           03034                 call            writenumber
0C85   3073           03035                 movlw           "s"
0C86   2???           03036                 call            WR_DATA
0C87   2???           03037                 call            Switch_Lines
0C88   302A           03038                 movlw           "*"
0C89   2???           03039                 call            WR_DATA
0C8A   3020           03040                 movlw           " "
0C8B   2???           03041                 call            WR_DATA
0C8C   3074           03042                 movlw           "t"
0C8D   2???           03043                 call            WR_DATA
0C8E   306F           03044                 movlw           "o"
0C8F   2???           03045                 call            WR_DATA
0C90   3020           03046                 movlw           " "
0C91   2???           03047                 call            WR_DATA
0C92   3072           03048                 movlw           "r"
0C93   2???           03049                 call            WR_DATA
0C94   3065           03050                 movlw           "e"
0C95   2???           03051                 call            WR_DATA
0C96   3074           03052                 movlw           "t"
0C97   2???           03053                 call            WR_DATA
0C98   3075           03054                 movlw           "u"
0C99   2???           03055                 call            WR_DATA
0C9A   3072           03056                 movlw           "r"
0C9B   2???           03057                 call            WR_DATA
0C9C   306E           03058                 movlw           "n"
0C9D   2???           03059                 call            WR_DATA
0C9E   2???           03060                 call            StarPressed                     ;Check if star is pressed
0C9F   2???           03061                 call            ButtonReleased
0CA0   120A           03062                 bcf                     PCLATH,4                        ;go back to Page 1
0CA1   158A           03063                 bsf             PCLATH,3 
0CA2   2???           03064                 goto            SecondPageEndMenu
                      03065 
0CA3                  03066 BallsMenu
0CA3   120A           03067                 bcf                     PCLATH,4                        ;go back to Page 0
0CA4   118A           03068                 bcf             PCLATH,3 
0CA5   2???           03069                 call            ClrLCD
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 75


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0CA6   2???           03070                 call            ButtonReleased
0CA7   3031           03071                 movlw           "1"
0CA8   2???           03072                 call            WR_DATA
0CA9   302D           03073                 movlw           "-"
0CAA   2???           03074                 call            WR_DATA
0CAB   3057           03075                 movlw           "W"
0CAC   2???           03076                 call            WR_DATA
0CAD   3068           03077                 movlw           "h"
0CAE   2???           03078                 call            WR_DATA
0CAF   3069           03079                 movlw           "i"
0CB0   2???           03080                 call            WR_DATA
0CB1   3074           03081                 movlw           "t"
0CB2   2???           03082                 call            WR_DATA
0CB3   3065           03083                 movlw           "e"
0CB4   2???           03084                 call            WR_DATA
0CB5   2???           03085                 call            Switch_Lines
0CB6   3032           03086                 movlw           "2"
0CB7   2???           03087                 call            WR_DATA
0CB8   302D           03088                 movlw           "-"
0CB9   2???           03089                 call            WR_DATA
0CBA   304F           03090                 movlw           "O"
0CBB   2???           03091                 call            WR_DATA
0CBC   3072           03092                 movlw           "r"
0CBD   2???           03093                 call            WR_DATA
0CBE   3061           03094                 movlw           "a"
0CBF   2???           03095                 call            WR_DATA
0CC0   306E           03096                 movlw           "n"
0CC1   2???           03097                 call            WR_DATA
0CC2   3067           03098                 movlw           "g"
0CC3   2???           03099                 call            WR_DATA
0CC4   3065           03100                 movlw           "e"
0CC5   2???           03101                 call            WR_DATA
0CC6   120A           03102                 bcf                     PCLATH,4                        ;go back to Page 1
0CC7   158A           03103                 bsf             PCLATH,3 
0CC8   1C86           03104             btfss               PORTB,1                         ;Wait until data is available from the k
                            eypad
0CC9   2???           03105         goto            $-1 
0CCA   1E06           03106                 btfss           PORTB,4                         ;Check if W or O
0CCB   2???           03107                 goto            White
0CCC   2???           03108                 goto            Orange
                      03109 
0CCD                  03110 White
0CCD   120A           03111                 bcf                     PCLATH,4                        ;go back to Page 0
0CCE   118A           03112                 bcf             PCLATH,3 
0CCF   2???           03113                 call            ClrLCD
0CD0   120A           03114                 bcf                     PCLATH,4                        ;go back to Page 1
0CD1   158A           03115                 bsf             PCLATH,3 
0CD2   084E           03116                 movfw           WhiteBalls
0CD3   00D2           03117                 movwf           Memory_Temp                     ;put balls in temp
0CD4   0852           03118                 movfw           Memory_Temp
0CD5   3C09           03119                 sublw           d'9'                            ;check if over nine
0CD6   1C03           03120                 btfss           STATUS,C                        ;will be set if negative
0CD7   2???           03121                 goto            OverNine
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 76


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0CD8   2???           03122                 goto            DoneChecking
0CD9                  03123 Orange
0CD9   120A           03124                 bcf                     PCLATH,4                        ;go back to Page 0
0CDA   118A           03125                 bcf             PCLATH,3 
0CDB   2???           03126                 call            ClrLCD
0CDC   120A           03127                 bcf                     PCLATH,4                        ;go back to Page 1
0CDD   158A           03128                 bsf             PCLATH,3 
0CDE   084F           03129                 movfw           OrangeBalls
0CDF   00D2           03130                 movwf           Memory_Temp                     ;put balls in temp
0CE0   0852           03131                 movfw           Memory_Temp
0CE1   3C09           03132                 sublw           d'9'                            ;check if over nine
0CE2   1C03           03133                 btfss           STATUS,C                        ;will be set if negative
0CE3   2???           03134                 goto            OverNine
0CE4   2???           03135                 goto            DoneChecking
                      03136                 
0CE5                  03137 OverNine
0CE5   120A           03138                 bcf                     PCLATH,4                        ;go back to Page 0
0CE6   118A           03139                 bcf             PCLATH,3 
0CE7   3001           03140                 movlw           d'1'
0CE8   2???           03141                 call            OneToNine
0CE9   2???           03142                 call            WR_DATA
0CEA   300A           03143                 movlw           d'10'
0CEB   02D2           03144                 subwf           Memory_Temp,F
                      03145 
0CEC                  03146 DoneChecking
0CEC   0852           03147                 movfw           Memory_Temp     
0CED   120A           03148                 bcf                     PCLATH,4                        ;go back to Page 0
0CEE   118A           03149                 bcf             PCLATH,3 
0CEF   390F           03150                 andlw           0x0F
0CF0   2???           03151                 call            OneToNine
0CF1   2???           03152                 call            WR_DATA                         ;Write remaining balls
0CF2   2???           03153                 call            ButtonReleased
0CF3   120A           03154                 bcf                     PCLATH,4                        ;go back to Page 1
0CF4   158A           03155                 bsf             PCLATH,3 
0CF5   2???           03156                 goto            GoBack
                      03157 
0CF6                  03158 PatternsChosen
0CF6   120A           03159                 bcf                     PCLATH,4                        ;go back to Page 0
0CF7   118A           03160                 bcf             PCLATH,3        
0CF8   2???           03161         call            ClrLCD
0CF9   3050           03162                 movlw           "P"
0CFA   2???           03163                 call            WR_DATA
0CFB   3061           03164                 movlw           "a"
0CFC   2???           03165                 call            WR_DATA
0CFD   3074           03166                 movlw           "t"
0CFE   2???           03167                 call            WR_DATA
0CFF   3074           03168                 movlw           "t"
0D00   2???           03169                 call            WR_DATA
0D01   3065           03170                 movlw           "e"
0D02   2???           03171                 call            WR_DATA
0D03   3072           03172                 movlw           "r"
0D04   2???           03173                 call            WR_DATA
0D05   306E           03174                 movlw           "n"
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 77


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0D06   2???           03175                 call            WR_DATA
0D07   3073           03176                 movlw           "s"
0D08   2???           03177                 call            WR_DATA
0D09   303A           03178                 movlw           ":"
0D0A   2???           03179                 call            WR_DATA
0D0B   3020           03180                 movlw           " "
0D0C   2???           03181                 call            WR_DATA
0D0D   0829           03182                 movf            Pattern_Number_1,W
0D0E   2???           03183                 call            KPHexToChar                             ;Display up to nine.
0D0F   2???           03184                 call            WR_DATA
0D10   302C           03185                 movlw           ","
0D11   2???           03186                 call            WR_DATA                                         ;insert comma
0D12   082A           03187                 movf            Pattern_Number_2,W
0D13   2???           03188                 call            KPHexToChar                             ;Display up to nine.
0D14   2???           03189                 call            WR_DATA
0D15   302C           03190                 movlw           ","
0D16   2???           03191                 call            WR_DATA                                         ;insert comma
0D17   082B           03192                 movf            Pattern_Number_3,W
0D18   2???           03193                 call            KPHexToChar                                     ;Display up to nine.
0D19   2???           03194                 call            WR_DATA
0D1A   2???           03195                 call            ButtonReleased
0D1B   120A           03196                 bcf                     PCLATH,4                        ;go back to Page 1
0D1C   158A           03197                 bsf             PCLATH,3 
0D1D   2???           03198                 goto            GoBack  
                      03199 
0D1E                  03200 GoBack
0D1E   120A           03201                 bcf                     PCLATH,4                        ;go back to Page 0
0D1F   118A           03202                 bcf             PCLATH,3 
0D20   2???           03203                 call            Switch_Lines
0D21   302A           03204                 movlw           "*"
0D22   2???           03205                 call            WR_DATA
0D23   3020           03206                 movlw           " "
0D24   2???           03207                 call            WR_DATA
0D25   3074           03208                 movlw           "t"
0D26   2???           03209                 call            WR_DATA
0D27   306F           03210                 movlw           "o"
0D28   2???           03211                 call            WR_DATA
0D29   3020           03212                 movlw           " "
0D2A   2???           03213                 call            WR_DATA
0D2B   3072           03214                 movlw           "r"
0D2C   2???           03215                 call            WR_DATA
0D2D   3065           03216                 movlw           "e"
0D2E   2???           03217                 call            WR_DATA
0D2F   3074           03218                 movlw           "t"
0D30   2???           03219                 call            WR_DATA
0D31   3075           03220                 movlw           "u"
0D32   2???           03221                 call            WR_DATA
0D33   3072           03222                 movlw           "r"
0D34   2???           03223                 call            WR_DATA
0D35   306E           03224                 movlw           "n"
0D36   2???           03225                 call            WR_DATA
0D37   2???           03226                 call            StarPressed                     ;Check if star is pressed
0D38   2???           03227                 call            ButtonReleased
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 78


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0D39   120A           03228                 bcf                     PCLATH,4                        ;go back to Page 1
0D3A   158A           03229                 bsf             PCLATH,3 
0D3B   2???           03230                 goto            EndMenu
                      03231 
                      03232 
0D3C                  03233 Switch_To_Page0
0D3C   120A           03234                 bcf                     PCLATH,4                        ;go back to Page 0
0D3D   118A           03235                 bcf             PCLATH,3 
0D3E   1586           03236                 bsf                     PORTB,3
0D3F   0008           03237                 return
                      03238 
                      03239         END
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
Actual_Date                       00000B32
Actual_Orange                     00000BF3
Actual_Patterns                   00000B9C
Actual_Time                       00000C16
Actual_White                      00000BD2
AddoneOrange                      000003D7
AddoneWhite                       000003C5
Address_Counter                   00000050
AnytoStart                        000004E0
Appropriate_Delay                 000008EF
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
BallsMenu                         00000CA3
Box_Counter                       00000036
Busy                              0000007E
ButtonReleased                    0000067D
C                                 00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

CCPR2H                            0000001C
CCPR2L                            0000001B
CC_60                             000008C1
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CKE                               00000006
CKP                               00000004
COUNTH                            00000000
COUNTL                            00000002
COUNTM                            00000001
CREN                              00000004
CSRC                              00000007
Change_Read_Address_Counter_255   00000370
CheckDone                         000004C0
CheckValidBox                     00000451
CheckValidInput                   000002A9
CheckValidPattern                 0000048F
CheckvalidPage1                   00000978
CheckvalidPage2                   000009FD
CheckvalidPage3                   00000A7D
CheckvalidPage4                   00000AC1
ClrLCD                            00000000
ContMsg2                          0000022D
Cont_Msg                          00000021
Counter                           00000035
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
DateEnd                           00000B14
Date_Finished                     000000E8
Date_of_End                       00000B12
Delay_0                           00000929
Disk_Delay                        000008F3
DispenseBall                      00000868
DispenseOrange                    0000086B
DispenseWhite                     0000086F
Display                           
DisplayDateEnded                  00000A08
DisplayEnterBoxes                 00000424
DisplayTimeTaken                  00000C67
DoneAutonomous                    00000516
DoneChecking                      00000CEC
DoneChecking1                     000003EB
DoneDispensing                    000008F5
DoneInterface                     000001B1
DoneLoadingPattern                00000830
DoneMoving                        00000844
Done_Msg                          000000CA
DownloadLogs                      00000ACA
E                                 PORTD,3
EEADR                             0000010D
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
Enabletimer0                      00000180
EndMenu                           0000093A
EnterBoxes                        00000423
EnterPattern                      0000046E
Enter_Boxes                       0000000F
Enter_Pattern                     0000004B
F                                 00000001
FERR                              00000002
FSR                               00000004
Fifth_Pattern                     00000032
FinalMessages                     000004C7
FinishDownloadingLogs             00000C26
First_Pattern                     0000002E
FourthPageEndMenu                 00000A8B
Fourth_Pattern                    00000031
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GoBack                            00000D1E
GoodPattern                       000004AD
Goodinput                         000002B0
GoodinputLoop                     000002B1
GoodinputPage1                    00000973
GoodinputPage2                    000009F8
GoodinputPage3                    00000A7A
GoodinputPage4                    00000ABE
HalfS                             00000901
HighPattern                       00000822
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
InitLCD                           00000000
Interrupt_Code                    00000004
InvalidBox                        0000003C
InvalidBoxNumber                  00000456
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

InvalidLogNumber                  000002BF
InvalidOption                     00000264
InvalidOption2                    00000343
InvalidPage                       00000983
InvalidPage1                      0000097F
InvalidPage2                      00000A04
InvalidPage3                      00000A82
InvalidPage4                      00000AC6
InvalidPatternNumber              00000493
InvalidPatternStart               0000046F
Invalid_Pattern_Number            000000B0
KPHexToChar                       00000067
LCD_DELAY                         00000682
LLD_LOOP                          00000682
LoadBalls                         0000031F
LoadBox                           00000831
LoadBoxLoop                       00000833
LoadPattern                       00000811
LoadPattern1                      0000081F
LoadPattern2                      0000081C
LoadPattern3                      00000819
LoadPattern4                      0000082D
LoadPattern5                      0000082A
LoadPattern6                      00000827
LoadPatternNumber                 00000803
LoadPatternNumber1                00000808
LoadPatternNumber2                0000080B
LoadPatternNumber3                0000080E
Loading                           00000800
Log                               00000168
Log_Info                          0000027C
Log_Information                   00000030
Log_Number                        00000055
LowPattern                        00000814
Main                              000001AB
Memory_Temp                       00000052
MoveBox                           00000857
MoveBoxSlow                       0000085B
MoveFirstBox                      0000084C
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 83


SYMBOL TABLE
  LABEL                             VALUE 

NewLine                           00000B5B
NewOperation                      00000A86
New_Operation                     00000086
NotFirstBox                       0000084A
Number_of_boxes                   00000028
OBF                               00000006
OERR                              00000001
OHE                               0000004C
OME                               0000004A
OPTION_REG                        00000081
OSE                               00000048
OneS                              00000408
OneToNine                         00000072
OnesDay                           0000003A
OnesHoursFinished                 00000042
OnesHoursStarted                  0000003C
OnesHrsSub                        00000601
OnesHrsnegative                   0000060F
OnesMinSub                        000005F7
OnesMinnegative                   00000617
OnesMinutesFinished               00000044
OnesMinutesStarted                0000003E
OnesMonth                         00000038
OnesSecSub                        000005ED
OnesSecondsFinished               00000046
OnesSecondsStarted                00000040
Operation_Number                  00000054
Orange                            00000CD9
OrangeBalls                       0000004F
OrangeLeft                        00000BD8
Orange_Remaining                  00000136
OverNine                          00000CE5
OverNine1                         000003E9
OverNineSend                      00000BCB
OverNineShow                      000001F6
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 84


SYMBOL TABLE
  LABEL                             VALUE 

PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
Pagechange                        
PatternWaiting                    00000489
Pattern_Convert                   00000B91
Pattern_Counter                   0000002D
Pattern_Current                   00000034
Pattern_Good                      00000B96
Pattern_Number_1                  00000029
Pattern_Number_2                  0000002A
Pattern_Number_3                  0000002B
Pattern_Number_Current            0000002C
PatternsChosen                    00000CF6
PatternsEntered                   0000005B
Patterns_Chosen                   00000100
Patterns_Picked                   00000B69
Pick_Log                          00000218
Press_Star                        000000D7
QS                                0000092F
QS_0                              00000933
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RS                                PORTD,2
RS232Setup                        00000AE0
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
ReadKeypad                        0000043A
ReadKeypad2                       00000293
Read_Address_Counter              00000051
Read_EEPROM                       000003B9
Reset_Balls                       0000031A
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 85


SYMBOL TABLE
  LABEL                             VALUE 

RetrieveAddressCounter            00000364
RetrieveLog                       0000035B
Retrieve_Balls                    0000031D
Retrieveinfo                      00000374
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
Save0intoaddresscounter           000001FE
SaveAddressCounter                00000640
SaveBottomEEPROM                  00000623
SaveEndTimes                      0000051F
SaveTimeStarted                   000004ED
SaveTopEEPROM                     000005A2
SecondPageEndMenu                 000009BD
Second_Pattern                    0000002F
SendTheBalls                      00000BC6
Send_Working                      00000B60
Send_Working_Number               00000B66
SeparatorCC60                     00000891
SeparatorCC_Rotation              00000893
SeparatorClock60                  00000873
SeparatorClock_Rotation           00000875
Set_Balls                         000002D7
Show_Balls                        000001CC
Sixth_Pattern                     00000033
Standby                           00000552
StarPressed                       00000418
Start_Msg                         00000097
StartingInterface                 00000243
Switch_Lines                      00000215
Switch_To_Page0                   00000D3C
Switch_To_Page1                   000003F1
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 86


SYMBOL TABLE
  LABEL                             VALUE 

T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
THE                               0000004D
TME                               0000004B
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TSE                               00000049
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
Table_Counter                     00000022
TensDay                           00000039
TensHoursFinished                 00000041
TensHoursStarted                  0000003B
TensHrsSub                        00000606
TensHrsnegative                   0000060C
TensMinSub                        000005FC
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 87


SYMBOL TABLE
  LABEL                             VALUE 

TensMinnegative                   00000613
TensMinutesFinished               00000043
TensMinutesStarted                0000003D
TensMonth                         00000037
TensSecSub                        000005F2
TensSecnegative                   0000061B
TensSecondsFinished               00000045
TensSecondsStarted                0000003F
ThirdPageEndMenu                  00000A47
Third_Pattern                     00000030
Time_Elapsed                      00000BF9
Time_Taken                        00000151
UA                                00000001
UnderNineSend                     00000BCF
UnderNineShow                     000001FA
UpdatePattern1                    00000673
UpdatePattern2                    00000677
UpdatePattern3                    0000067B
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
WR_DATA                           00000000
WR_INS                            00000000
White                             00000CCD
WhiteBalls                        0000004E
WhiteLeft                         00000BAC
White_Remaining                   0000011C
WriteEEPROMBottom                 0000065D
WriteEEPROMTop                    00000657
WriteTheBalls                     000001F1
Z                                 00000002
_.org_1_0005                      00000005
_.org_1_020F                      0000020F
_.org_1_025A                      0000025A
_.org_1_0262                      00000262
_.org_1_0294                      00000294
_.org_1_029D                      0000029D
_.org_1_029F                      0000029F
_.org_1_02A7                      000002A7
_.org_1_0312                      00000312
_.org_1_0320                      00000320
_.org_1_03ED                      000003ED
_.org_1_03EF                      000003EF
_.org_1_03F9                      000003F9
_.org_1_03FC                      000003FC
_.org_1_0403                      00000403
_.org_1_0406                      00000406
_.org_1_040F                      0000040F
_.org_1_0411                      00000411
_.org_1_0414                      00000414
_.org_1_041B                      0000041B
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 88


SYMBOL TABLE
  LABEL                             VALUE 

_.org_1_0421                      00000421
_.org_1_043B                      0000043B
_.org_1_0445                      00000445
_.org_1_0447                      00000447
_.org_1_044F                      0000044F
_.org_1_048A                      0000048A
_.org_1_04B5                      000004B5
_.org_1_04B7                      000004B7
_.org_1_04BF                      000004BF
_.org_1_04EC                      000004EC
_.org_1_0651                      00000651
_.org_1_0669                      00000669
_.org_1_067E                      0000067E
_.org_2_0908                      00000908
_.org_2_090A                      0000090A
_.org_2_090D                      0000090D
_.org_2_0916                      00000916
_.org_2_0919                      00000919
_.org_2_0920                      00000920
_.org_2_0923                      00000923
_.org_2_092A                      0000092A
_.org_2_092D                      0000092D
_.org_2_0934                      00000934
_.org_2_0937                      00000937
_.org_2_0971                      00000971
_.org_2_09F6                      000009F6
_.org_2_0A78                      00000A78
_.org_2_0ABC                      00000ABC
_.org_2_0B63                      00000B63
_.org_2_0CC9                      00000CC9
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_XT_OSC                           00003FFD
__16F877                          00000001
MPASM  5.20                          MAIN.ASM   4-7-2013  20:38:08         PAGE 89


SYMBOL TABLE
  LABEL                             VALUE 

__DEBUG                           1
add1                              00000B9A
com                               00000026
convert8                          00000B98
dat                               00000027
endsubtract                       00000623
i2c_common_setup                  00000000
init                              00000180
initPC                            00000AD9
labela                            0000009F
labelb                            000000B8
labelc                            000000D2
labeld                            000000DF
labele                            00000220
labelf                            00000235
labelg                            00000124
labelh                            0000013E
labeli                            00000159
labelj                            000000F0
labelk                            00000108
labell                            00000170
lcdLongDelay                      00000680
lcd_d1                            00000024
lcd_d2                            00000025
lcd_tmp                           00000023
offset                            00000020
onessecnegative                   0000061F
point01                           0000091B
point01_0                         0000091F
point01_0pg0                      000003F8
point01pg0                        000003F4
point06                           00000911
point06_0                         00000915
read_rtc                          00000000
rtc_convert                       00000000
rtc_read                          
rtc_resetAll                      
rtc_set                           
start                             00000AEA
temp                              00000047
temp2                             00000021
var                               00000053
write_rtc                         00000000
writenumber                       0000066F
zeropointone                      00000925
zeropointonepg0                   000003FE
zeropointonepg0_0                 00000402

Errors   :     0
Warnings :    29 reported,     0 suppressed
Messages :    66 reported,     0 suppressed

